{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/manoe/OneDrive/Desktop/Programming/agendamento-policial/app/context/AppContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect, ReactNode, useCallback } from 'react';\r\nimport { TimeSlot, Booking, AvailabilityConfig, AppState } from '../types';\r\n\r\ninterface AppContextType extends AppState {\r\n  addSlot: (slot: TimeSlot) => void;\r\n  removeSlot: (slotId: string) => Promise<boolean>;\r\n  disableSlot: (slotId: string) => Promise<boolean>;\r\n  reactivateSlot: (slotId: string) => Promise<boolean>;\r\n  addBooking: (booking: Booking) => Promise<Booking | null>;\r\n  cancelBooking: (bookingId: string) => Promise<boolean>;\r\n  addAvailabilityConfig: (config: AvailabilityConfig) => Promise<void>;\r\n  removeAvailabilityConfig: (configId: string) => Promise<void>;\r\n  generateSlotsFromConfig: (config: AvailabilityConfig) => Promise<void>;\r\n  clearAllSlots: () => Promise<void>;\r\n  isReady: boolean;\r\n  refreshData: () => Promise<void>;\r\n}\r\n\r\nconst AppContext = createContext<AppContextType | undefined>(undefined);\r\n\r\nconst defaultState: AppState = { slots: [], bookings: [], availabilityConfigs: [] };\r\n\r\nexport function AppProvider({ children }: { children: ReactNode }) {\r\n  const [state, setState] = useState<AppState>(defaultState);\r\n  const [isReady, setIsReady] = useState(false);\r\n\r\n  // Buscar dados da API\r\n  const refreshData = useCallback(async () => {\r\n    try {\r\n      const response = await fetch('/api/data');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setState({\r\n          slots: data.slots || [],\r\n          bookings: data.bookings || [],\r\n          availabilityConfigs: data.availabilityConfigs || [],\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao buscar dados:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Carregar dados iniciais\r\n  useEffect(() => {\r\n    refreshData().then(() => setIsReady(true));\r\n  }, [refreshData]);\r\n\r\n  const addSlot = (slot: TimeSlot) => {\r\n    setState(prev => ({ ...prev, slots: [...prev.slots, slot] }));\r\n  };\r\n\r\n  const removeSlot = async (slotId: string): Promise<boolean> => {\r\n    try {\r\n      const response = await fetch(`/api/slots/${slotId}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (response.ok) {\r\n        setState(prev => ({\r\n          ...prev,\r\n          slots: prev.slots.filter(s => s.id !== slotId),\r\n          bookings: prev.bookings.filter(b => b.slotId !== slotId),\r\n        }));\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (error) {\r\n      console.error('Erro ao remover slot:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const disableSlot = async (slotId: string): Promise<boolean> => {\r\n    try {\r\n      const response = await fetch(`/api/slots/${slotId}`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ isDisabled: true }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        setState(prev => ({\r\n          ...prev,\r\n          slots: prev.slots.map(s => s.id === slotId ? { ...s, isDisabled: true, isBooked: false, booking: undefined } : s),\r\n          bookings: prev.bookings.filter(b => b.slotId !== slotId),\r\n        }));\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (error) {\r\n      console.error('Erro ao desativar slot:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const reactivateSlot = async (slotId: string): Promise<boolean> => {\r\n    try {\r\n      const response = await fetch(`/api/slots/${slotId}`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ isDisabled: false }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        setState(prev => ({\r\n          ...prev,\r\n          slots: prev.slots.map(s => s.id === slotId ? { ...s, isDisabled: false } : s),\r\n        }));\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (error) {\r\n      console.error('Erro ao reativar slot:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const addBooking = async (booking: Booking): Promise<Booking | null> => {\r\n    try {\r\n      const response = await fetch('/api/bookings', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(booking),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        const savedBooking = result.booking;\r\n        \r\n        setState(prev => ({\r\n          ...prev,\r\n          bookings: [...prev.bookings, savedBooking],\r\n          slots: prev.slots.map(slot =>\r\n            slot.id === savedBooking.slotId\r\n              ? { ...slot, isBooked: true, booking: savedBooking }\r\n              : slot\r\n          ),\r\n        }));\r\n        return savedBooking;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      console.error('Erro ao criar agendamento:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const cancelBooking = async (bookingId: string): Promise<boolean> => {\r\n    try {\r\n      const response = await fetch(`/api/bookings/${bookingId}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (response.ok) {\r\n        setState(prev => {\r\n          const booking = prev.bookings.find(b => b.id === bookingId);\r\n          if (!booking) return prev;\r\n          return {\r\n            ...prev,\r\n            bookings: prev.bookings.filter(b => b.id !== bookingId),\r\n            slots: prev.slots.map(slot =>\r\n              slot.id === booking.slotId\r\n                ? { ...slot, isBooked: false, booking: undefined }\r\n                : slot\r\n            ),\r\n          };\r\n        });\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (error) {\r\n      console.error('Erro ao cancelar agendamento:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const addAvailabilityConfig = async (config: AvailabilityConfig) => {\r\n    try {\r\n      const response = await fetch('/api/configs', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config),\r\n      });\r\n\r\n      if (response.ok) {\r\n        setState(prev => ({\r\n          ...prev,\r\n          availabilityConfigs: [...prev.availabilityConfigs, config],\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao criar configuração:', error);\r\n    }\r\n  };\r\n\r\n  const removeAvailabilityConfig = async (configId: string) => {\r\n    try {\r\n      const response = await fetch(`/api/configs/${configId}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (response.ok) {\r\n        setState(prev => ({\r\n          ...prev,\r\n          availabilityConfigs: prev.availabilityConfigs.filter(c => c.id !== configId),\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao remover configuração:', error);\r\n    }\r\n  };\r\n\r\n  const generateSlotsFromConfig = async (config: AvailabilityConfig) => {\r\n    const newSlots: TimeSlot[] = [];\r\n\r\n    // Parsear datas corretamente para evitar problemas de fuso horário\r\n    const [startYear, startMonth, startDay] = config.startDate.split('-').map(Number);\r\n    const [endYear, endMonth, endDay] = config.endDate.split('-').map(Number);\r\n    const startDate = new Date(startYear, startMonth - 1, startDay);\r\n    const endDate = new Date(endYear, endMonth - 1, endDay);\r\n\r\n    for (let d = new Date(startDate); d <= endDate; d.setDate(d.getDate() + 1)) {\r\n      const dayOfWeek = d.getDay();\r\n\r\n      if (!config.daysOfWeek.includes(dayOfWeek)) continue;\r\n\r\n      // Verificar se o mês atual está nos meses de férias\r\n      const currentMonth = d.getMonth() + 1; // getMonth() retorna 0-11, precisamos de 1-12\r\n      if (config.vacationMonths && config.vacationMonths.includes(currentMonth)) {\r\n        continue; // Pular este dia se estiver em um mês de férias\r\n      }\r\n\r\n      // Formatar data manualmente para evitar problemas de fuso horário\r\n      const year = d.getFullYear();\r\n      const month = String(d.getMonth() + 1).padStart(2, '0');\r\n      const day = String(d.getDate()).padStart(2, '0');\r\n      const dateStr = `${year}-${month}-${day}`;\r\n\r\n      const [startHour, startMin] = config.startTime.split(':').map(Number);\r\n      const [endHour, endMin] = config.endTime.split(':').map(Number);\r\n\r\n      let currentMinutes = startHour * 60 + startMin;\r\n      const endMinutes = endHour * 60 + endMin;\r\n\r\n      // Calcular horário de almoço se habilitado\r\n      let lunchStartMinutes = -1;\r\n      let lunchEndMinutes = -1;\r\n      if (config.lunchBreakEnabled && config.lunchBreakStart && config.lunchBreakDuration) {\r\n        const [lunchStartHour, lunchStartMin] = config.lunchBreakStart.split(':').map(Number);\r\n        lunchStartMinutes = lunchStartHour * 60 + lunchStartMin;\r\n        lunchEndMinutes = lunchStartMinutes + config.lunchBreakDuration;\r\n      }\r\n\r\n      while (currentMinutes + config.slotDuration <= endMinutes) {\r\n        const slotStartHour = Math.floor(currentMinutes / 60);\r\n        const slotStartMin = currentMinutes % 60;\r\n        const slotEndMin = currentMinutes + config.slotDuration;\r\n        const slotEndHour = Math.floor(slotEndMin / 60);\r\n        const slotEndMinRemainder = slotEndMin % 60;\r\n\r\n        // Verificar se o slot cai no horário de almoço\r\n        if (lunchStartMinutes !== -1) {\r\n          // Se o slot começa durante o almoço ou termina durante o almoço, pular\r\n          const slotStart = currentMinutes;\r\n          const slotEnd = currentMinutes + config.slotDuration;\r\n\r\n          if ((slotStart >= lunchStartMinutes && slotStart < lunchEndMinutes) ||\r\n              (slotEnd > lunchStartMinutes && slotEnd <= lunchEndMinutes) ||\r\n              (slotStart <= lunchStartMinutes && slotEnd >= lunchEndMinutes)) {\r\n            currentMinutes += config.slotDuration;\r\n            continue;\r\n          }\r\n        }\r\n\r\n        const slotStartTime = `${String(slotStartHour).padStart(2, '0')}:${String(slotStartMin).padStart(2, '0')}`;\r\n        const slotEndTime = `${String(slotEndHour).padStart(2, '0')}:${String(slotEndMinRemainder).padStart(2, '0')}`;\r\n\r\n        const slotId = `${dateStr}-${slotStartTime}`;\r\n\r\n        // Verificar se o slot já existe\r\n        const existingSlot = state.slots.find(s => s.id === slotId);\r\n        if (!existingSlot) {\r\n          newSlots.push({\r\n            id: slotId,\r\n            date: dateStr,\r\n            startTime: slotStartTime,\r\n            endTime: slotEndTime,\r\n            isBooked: false,\r\n          });\r\n        }\r\n\r\n        currentMinutes += config.slotDuration;\r\n      }\r\n    }\r\n\r\n    if (newSlots.length > 0) {\r\n      try {\r\n        const response = await fetch('/api/slots', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(newSlots),\r\n        });\r\n\r\n        if (response.ok) {\r\n          setState(prev => ({ ...prev, slots: [...prev.slots, ...newSlots] }));\r\n        }\r\n      } catch (error) {\r\n        console.error('Erro ao criar slots:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const clearAllSlots = async () => {\r\n    try {\r\n      const response = await fetch('/api/slots', {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (response.ok) {\r\n        setState(prev => ({ ...prev, slots: [], bookings: [] }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao limpar slots:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider value={{\r\n      ...state,\r\n      addSlot,\r\n      removeSlot,\r\n      disableSlot,\r\n      reactivateSlot,\r\n      addBooking,\r\n      cancelBooking,\r\n      addAvailabilityConfig,\r\n      removeAvailabilityConfig,\r\n      generateSlotsFromConfig,\r\n      clearAllSlots,\r\n      isReady,\r\n      refreshData,\r\n    }}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useApp() {\r\n  const context = useContext(AppContext);\r\n  if (context === undefined) {\r\n    throw new Error('useApp deve ser usado dentro de AppProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 382, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/manoe/OneDrive/Desktop/Programming/agendamento-policial/app/components/Header.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { usePathname } from 'next/navigation';\r\nimport { useState } from 'react';\r\n\r\nexport default function Header() {\r\n  const pathname = usePathname();\r\n  const isAdmin = pathname.startsWith('/admin');\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n\r\n  return (\r\n    <header className=\"bg-gradient-to-r from-blue-800 to-blue-900 text-white shadow-lg\">\r\n      <div className=\"max-w-6xl mx-auto px-4 py-3 sm:py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <Link href=\"/\" className=\"flex items-center gap-3 sm:gap-4 hover:opacity-90 transition-opacity\">\r\n            <div className=\"w-11 h-11 sm:w-14 sm:h-14 flex-shrink-0\">\r\n              <Image\r\n                src=\"/logo.png\"\r\n                alt=\"Polícia Civil AL\"\r\n                width={56}\r\n                height={56}\r\n                className=\"w-full h-full object-contain drop-shadow-lg\"\r\n                priority\r\n              />\r\n            </div>\r\n            <div className=\"border-l border-blue-600 pl-3 sm:pl-4\">\r\n              <h1 className=\"text-sm sm:text-lg font-bold leading-tight\">Polícia Civil</h1>\r\n              <p className=\"text-xs sm:text-sm text-blue-200 font-medium\">Alagoas</p>\r\n            </div>\r\n          </Link>\r\n\r\n          {/* Desktop Navigation */}\r\n          <nav className=\"hidden sm:flex items-center gap-4\">\r\n            <Link\r\n              href=\"/\"\r\n              className={`px-4 py-2 rounded-lg transition-colors ${\r\n                !isAdmin\r\n                  ? 'bg-white/20 text-white'\r\n                  : 'text-blue-200 hover:bg-white/10'\r\n              }`}\r\n            >\r\n              Agendar\r\n            </Link>\r\n            <Link\r\n              href=\"/admin\"\r\n              className={`px-4 py-2 rounded-lg transition-colors ${\r\n                isAdmin\r\n                  ? 'bg-white/20 text-white'\r\n                  : 'text-blue-200 hover:bg-white/10'\r\n              }`}\r\n            >\r\n              Administração\r\n            </Link>\r\n          </nav>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <button\r\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n            className=\"sm:hidden p-2 hover:bg-white/10 rounded-lg transition-colors\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              {mobileMenuOpen ? (\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              ) : (\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n              )}\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Mobile Navigation */}\r\n        {mobileMenuOpen && (\r\n          <nav className=\"sm:hidden mt-3 pt-3 border-t border-white/20 flex flex-col gap-2\">\r\n            <Link\r\n              href=\"/\"\r\n              onClick={() => setMobileMenuOpen(false)}\r\n              className={`px-4 py-3 rounded-lg transition-colors text-center ${\r\n                !isAdmin\r\n                  ? 'bg-white/20 text-white'\r\n                  : 'text-blue-200 hover:bg-white/10'\r\n              }`}\r\n            >\r\n              Agendar\r\n            </Link>\r\n            <Link\r\n              href=\"/admin\"\r\n              onClick={() => setMobileMenuOpen(false)}\r\n              className={`px-4 py-3 rounded-lg transition-colors text-center ${\r\n                isAdmin\r\n                  ? 'bg-white/20 text-white'\r\n                  : 'text-blue-200 hover:bg-white/10'\r\n              }`}\r\n            >\r\n              Administração\r\n            </Link>\r\n          </nav>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,WAAW,IAAA,qNAAW;IAC5B,MAAM,UAAU,SAAS,UAAU,CAAC;IACpC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,0OAAQ,EAAC;IAErD,qBACE,8PAAC;QAAO,WAAU;kBAChB,cAAA,8PAAC;YAAI,WAAU;;8BACb,8PAAC;oBAAI,WAAU;;sCACb,8PAAC,2OAAI;4BAAC,MAAK;4BAAI,WAAU;;8CACvB,8PAAC;oCAAI,WAAU;8CACb,cAAA,8PAAC,4MAAK;wCACJ,KAAI;wCACJ,KAAI;wCACJ,OAAO;wCACP,QAAQ;wCACR,WAAU;wCACV,QAAQ;;;;;;;;;;;8CAGZ,8PAAC;oCAAI,WAAU;;sDACb,8PAAC;4CAAG,WAAU;sDAA6C;;;;;;sDAC3D,8PAAC;4CAAE,WAAU;sDAA+C;;;;;;;;;;;;;;;;;;sCAKhE,8PAAC;4BAAI,WAAU;;8CACb,8PAAC,2OAAI;oCACH,MAAK;oCACL,WAAW,CAAC,uCAAuC,EACjD,CAAC,UACG,2BACA,mCACJ;8CACH;;;;;;8CAGD,8PAAC,2OAAI;oCACH,MAAK;oCACL,WAAW,CAAC,uCAAuC,EACjD,UACI,2BACA,mCACJ;8CACH;;;;;;;;;;;;sCAMH,8PAAC;4BACC,SAAS,IAAM,kBAAkB,CAAC;4BAClC,WAAU;sCAEV,cAAA,8PAAC;gCAAI,WAAU;gCAAU,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAChE,+BACC,8PAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;yDAErE,8PAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;gBAO5E,gCACC,8PAAC;oBAAI,WAAU;;sCACb,8PAAC,2OAAI;4BACH,MAAK;4BACL,SAAS,IAAM,kBAAkB;4BACjC,WAAW,CAAC,mDAAmD,EAC7D,CAAC,UACG,2BACA,mCACJ;sCACH;;;;;;sCAGD,8PAAC,2OAAI;4BACH,MAAK;4BACL,SAAS,IAAM,kBAAkB;4BACjC,WAAW,CAAC,mDAAmD,EAC7D,UACI,2BACA,mCACJ;sCACH;;;;;;;;;;;;;;;;;;;;;;;AAQb;GA/FwB;;QACL,qNAAW;;;KADN"}}]
}