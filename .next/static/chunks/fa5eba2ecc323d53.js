(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88158,e=>{"use strict";var s=e.i(71811),t=e.i(65029),a=e.i(24777),r=e.i(94300),l=e.i(21211);let n=[{value:0,label:"Domingo"},{value:1,label:"Segunda-feira"},{value:2,label:"TerÃ§a-feira"},{value:3,label:"Quarta-feira"},{value:4,label:"Quinta-feira"},{value:5,label:"Sexta-feira"},{value:6,label:"SÃ¡bado"}],o=["Dom","Seg","Ter","Qua","Qui","Sex","SÃ¡b"],i=["Janeiro","Fevereiro","MarÃ§o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function d(){return"true"===sessionStorage.getItem("admin-auth")}function c(){let e,c,{slots:m,bookings:x,availabilityConfigs:u,addAvailabilityConfig:g,removeAvailabilityConfig:h,generateSlotsFromConfig:p,cancelBooking:b,moveToPool:f,cancelDay:j,reallocateBooking:v,disableSlot:y,reactivateSlot:N,clearAllSlots:w}=(0,r.useApp)(),[k,C]=(0,t.useState)(d),[S,D]=(0,t.useState)(""),[L,M]=(0,t.useState)(""),[B,T]=(0,t.useState)("config"),[$,A]=(0,t.useState)(null),[F,z]=(0,t.useState)("all"),[H,I]=(0,t.useState)(new Date),[W,O]=(0,t.useState)(""),[q,V]=(0,t.useState)(null),[R,Y]=(0,t.useState)(""),[E,P]=(0,t.useState)(""),[Q,J]=(0,t.useState)(""),[_,U]=(0,t.useState)(""),[K,G]=(0,t.useState)(""),[X,Z]=(0,t.useState)(""),[ee,es]=(0,t.useState)(""),[et,ea]=(0,t.useState)(""),[er,el]=(0,t.useState)(!1),en=(0,t.useMemo)(()=>{let e=H.getFullYear(),s=(0,l.getHolidaysForYear)(e),t={};return s.forEach(e=>{t[e.date]={name:e.name,type:e.type}}),t},[H]),[eo,ei]=(0,t.useState)(""),[ed,ec]=(0,t.useState)(""),[em,ex]=(0,t.useState)("08:00"),[eu,eg]=(0,t.useState)("17:00"),[eh,ep]=(0,t.useState)(30),[eb,ef]=(0,t.useState)([1,2,3,4,5]),[ej,ev]=(0,t.useState)(!1),[ey,eN]=(0,t.useState)("12:00"),[ew,ek]=(0,t.useState)(60),[eC,eS]=(0,t.useState)([]),eD=e=>new Date(e+"T12:00:00").toLocaleDateString("pt-BR"),eL=async e=>{e.preventDefault(),el(!0);try{let e=await fetch("/api/bookings/internal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:R,startTime:E,endTime:Q,name:_,email:K,phone:X,cpf:ee,description:et})});if(e.ok)alert("Agendamento interno criado com sucesso!"),Y(""),P(""),J(""),U(""),G(""),Z(""),es(""),ea(""),window.location.reload();else{let s=await e.json();alert(`Erro: ${s.error}`)}}catch(e){console.error(e),alert("Erro ao criar agendamento")}finally{el(!1)}};return k?(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-4 sm:py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4 sm:mb-8",children:[(0,s.jsx)("h1",{className:"text-xl sm:text-3xl font-bold text-gray-800",children:"Painel Administrativo"}),(0,s.jsx)("button",{onClick:()=>{C(!1),sessionStorage.removeItem("admin-auth"),D("")},className:"px-3 sm:px-4 py-2 text-sm sm:text-base text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Sair"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 sm:gap-6 mb-4 sm:mb-8",children:[(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:gap-4 text-center sm:text-left",children:[(0,s.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-2 sm:mb-0",children:(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Total Slots"}),(0,s.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:m.length})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:gap-4 text-center sm:text-left",children:[(0,s.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-lg flex items-center justify-center mb-2 sm:mb-0",children:(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"DisponÃ­veis"}),(0,s.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:m.filter(e=>!e.isBooked&&!e.isDisabled).length})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:gap-4 text-center sm:text-left",children:[(0,s.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-2 sm:mb-0",children:(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Agendados"}),(0,s.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:x.length})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,s.jsx)("div",{className:"border-b border-gray-200 overflow-x-auto",children:(0,s.jsxs)("nav",{className:"flex min-w-max",children:[(0,s.jsx)("button",{onClick:()=>T("config"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"config"===B?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Configurar"}),(0,s.jsx)("button",{onClick:()=>T("calendar"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"calendar"===B?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Visualizar Agenda"}),(0,s.jsxs)("button",{onClick:()=>T("bookings"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"bookings"===B?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["Agendamentos (",x.length,")"]}),(0,s.jsx)("button",{onClick:()=>T("holidays"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"holidays"===B?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Feriados"}),(0,s.jsxs)("button",{onClick:()=>T("reallocation"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"reallocation"===B?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["RealocaÃ§Ã£o (",x.filter(e=>"pending_reallocation"===e.status).length,")"]}),(0,s.jsx)("button",{onClick:()=>T("internal"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"internal"===B?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Agendamento Interno"}),(0,s.jsxs)(a.default,{href:"/relatorio",className:"px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap text-gray-500 hover:text-gray-700 flex items-center gap-1.5",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"RelatÃ³rio DiÃ¡rio"]})]})}),(0,s.jsx)("div",{className:"p-3 sm:p-6",children:"config"===B?(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!eo||!ed||0===eb.length)return void alert("Preencha todos os campos obrigatÃ³rios");let s={id:`config-${Date.now()}`,startDate:eo,endDate:ed,startTime:em,endTime:eu,slotDuration:eh,daysOfWeek:eb,lunchBreakEnabled:ej,lunchBreakStart:ej?ey:void 0,lunchBreakDuration:ej?ew:void 0,vacationMonths:eC.length>0?eC:void 0};g(s),p(s),ei(""),ec(""),ex("08:00"),eg("17:00"),ep(30),ef([1,2,3,4,5]),ev(!1),eN("12:00"),ek(60),eS([])},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),(0,s.jsx)("input",{type:"date",value:eo,onChange:e=>ei(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),(0,s.jsx)("input",{type:"date",value:ed,onChange:e=>ec(e.target.value),min:eo,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HorÃ¡rio Inicial"}),(0,s.jsx)("input",{type:"time",value:em,onChange:e=>ex(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HorÃ¡rio Final"}),(0,s.jsx)("input",{type:"time",value:eu,onChange:e=>eg(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DuraÃ§Ã£o do Slot (min)"}),(0,s.jsxs)("select",{value:eh,onChange:e=>ep(Number(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[(0,s.jsx)("option",{value:15,children:"15 minutos"}),(0,s.jsx)("option",{value:30,children:"30 minutos"}),(0,s.jsx)("option",{value:45,children:"45 minutos"}),(0,s.jsx)("option",{value:60,children:"1 hora"}),(0,s.jsx)("option",{value:90,children:"1h 30min"}),(0,s.jsx)("option",{value:120,children:"2 horas"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Dias da Semana"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>{var s;return s=e.value,void ef(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s].sort())},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${eb.includes(e.value)?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.label},e.value))})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:ej,onChange:e=>ev(e.target.checked),className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Incluir HorÃ¡rio de AlmoÃ§o"})]}),ej&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"InÃ­cio do AlmoÃ§o"}),(0,s.jsx)("input",{type:"time",value:ey,onChange:e=>eN(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DuraÃ§Ã£o do AlmoÃ§o"}),(0,s.jsxs)("select",{value:ew,onChange:e=>ek(Number(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none",children:[(0,s.jsx)("option",{value:30,children:"30 minutos"}),(0,s.jsx)("option",{value:45,children:"45 minutos"}),(0,s.jsx)("option",{value:60,children:"1 hora"}),(0,s.jsx)("option",{value:90,children:"1h 30min"}),(0,s.jsx)("option",{value:120,children:"2 horas"})]})]}),(0,s.jsx)("div",{className:"md:col-span-2",children:(0,s.jsxs)("p",{className:"text-xs text-orange-700",children:["Os slots que caÃ­rem dentro do horÃ¡rio de almoÃ§o (",ey," - ",(()=>{let[e,s]=ey.split(":").map(Number),t=60*e+s+ew,a=Math.floor(t/60);return`${String(a).padStart(2,"0")}:${String(t%60).padStart(2,"0")}`})(),") nÃ£o serÃ£o criados."]})})]})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 pt-6",children:(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),"Meses de FÃ©rias (sem atendimento)"]})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Selecione os meses em que nÃ£o haverÃ¡ atendimento. Nenhum slot serÃ¡ criado nesses meses."}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map((e,t)=>(0,s.jsx)("button",{type:"button",onClick:()=>{var e;return e=t+1,void eS(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e].sort((e,s)=>e-s))},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${eC.includes(t+1)?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.substring(0,3)},t))}),eC.length>0&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:(0,s.jsxs)("p",{className:"text-xs text-purple-700",children:["ðŸ–ï¸ Meses de fÃ©rias selecionados: ",eC.map(e=>i[e-1]).join(", ")]})})]})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Criar Disponibilidade"}),(0,s.jsx)("button",{type:"button",onClick:()=>{confirm("Tem certeza que deseja limpar todos os slots e agendamentos?")&&w()},className:"px-6 py-3 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors font-medium",children:"Limpar Todos os Slots"})]})]}),u.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ConfiguraÃ§Ãµes Ativas"}),(0,s.jsx)("div",{className:"space-y-3",children:u.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium text-gray-800",children:[eD(e.startDate)," - ",eD(e.endDate)]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[e.startTime," Ã s ",e.endTime," | ",e.slotDuration,"min por slot"]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.daysOfWeek.map(e=>n.find(s=>s.value===e)?.label).join(", ")}),e.lunchBreakEnabled&&e.lunchBreakStart&&e.lunchBreakDuration&&(0,s.jsxs)("p",{className:"text-sm text-orange-600",children:["ðŸ½ï¸ AlmoÃ§o: ",e.lunchBreakStart," (",e.lunchBreakDuration,"min)"]}),e.vacationMonths&&e.vacationMonths.length>0&&(0,s.jsxs)("p",{className:"text-sm text-purple-600",children:["ðŸ–ï¸ FÃ©rias: ",e.vacationMonths.map(e=>i[e-1]).join(", ")]})]}),(0,s.jsx)("button",{onClick:()=>h(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id))})]})]}):"calendar"===B?(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-start sm:items-center gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,s.jsx)("span",{className:"text-xs sm:text-sm text-gray-600 block sm:inline mb-1 sm:mb-0 sm:mr-2",children:"Filtrar:"}),(0,s.jsxs)("div",{className:"flex rounded-lg overflow-hidden border border-gray-300",children:[(0,s.jsx)("button",{onClick:()=>z("all"),className:`flex-1 sm:flex-none px-2 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium transition-colors ${"all"===F?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Todos"}),(0,s.jsx)("button",{onClick:()=>z("booked"),className:`flex-1 sm:flex-none px-2 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium transition-colors border-l border-gray-300 ${"booked"===F?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Agendados"}),(0,s.jsx)("button",{onClick:()=>z("available"),className:`flex-1 sm:flex-none px-2 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium transition-colors border-l border-gray-300 ${"available"===F?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Livres"}),(0,s.jsx)("button",{onClick:()=>z("disabled"),className:`flex-1 sm:flex-none px-2 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium transition-colors border-l border-gray-300 ${"disabled"===F?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Off"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto sm:ml-auto justify-center",children:[(0,s.jsx)("button",{onClick:()=>I(new Date(H.getFullYear(),H.getMonth()-1,1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsxs)("span",{className:"text-sm sm:text-lg font-semibold text-gray-800 min-w-[130px] sm:min-w-[180px] text-center",children:[i[H.getMonth()]," ",H.getFullYear()]}),(0,s.jsx)("button",{onClick:()=>I(new Date(H.getFullYear(),H.getMonth()+1,1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1 mb-4",children:[o.map(e=>(0,s.jsx)("div",{className:"text-center text-xs sm:text-sm font-medium text-gray-500 py-1 sm:py-2",children:e},e)),(()=>{let e=H.getFullYear(),t=H.getMonth(),a=new Date(e,t,1).getDay(),r=new Date(e,t+1,0).getDate(),l=new Date().toISOString().split("T")[0],n=[];for(let e=0;e<a;e++)n.push((0,s.jsx)("div",{className:"h-8 sm:h-10"},`empty-${e}`));for(let a=1;a<=r;a++){let r=`${e}-${String(t+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`,o=m.filter(e=>e.date===r),i=o.filter(e=>e.isBooked).length,d=o.length>0,c=$===r,x=r===l,u=en[r],g=!!u,h=u?.name;n.push((0,s.jsxs)("button",{onClick:()=>A(c?null:r),title:g?`ðŸŽ‰ ${h}`:void 0,className:`h-8 sm:h-10 rounded-lg text-xs sm:text-sm font-medium transition-all relative ${c?"ring-2 ring-blue-500 ring-offset-1":""} ${g?"bg-purple-200 text-purple-800 hover:bg-purple-300 border border-purple-400":d?i>0?"bg-blue-100 text-blue-700 hover:bg-blue-200":"bg-green-100 text-green-700 hover:bg-green-200":"text-gray-400 hover:bg-gray-50"} ${x?"font-bold":""}`,children:[a,g&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 text-[10px]",children:"ðŸŽ‰"}),i>0&&!g&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-purple-600 text-white text-[10px] sm:text-xs rounded-full flex items-center justify-center",children:i})]},a))}return n})()]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-4 sm:pt-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:[(0,s.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:$?`Hor\xe1rios de ${eD($)}`:"booked"===F?"Todos os Agendamentos":"available"===F?"HorÃ¡rios DisponÃ­veis":"disabled"===F?"HorÃ¡rios Desativados":"Todos os HorÃ¡rios"}),$&&(0,s.jsx)("button",{onClick:()=>{confirm(`ATEN\xc7\xc3O: Isso cancelar\xe1 TODOS os agendamentos do dia ${eD($)} e enviar\xe1 emails de aviso para realoca\xe7\xe3o. Deseja continuar?`)&&j($)},className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-xs sm:text-sm font-medium",children:"Cancelar Dia Inteiro"})]}),(()=>{let e=$?m.filter(e=>e.date===$):m;if("booked"===F?e=e.filter(e=>e.isBooked&&!e.isDisabled):"available"===F?e=e.filter(e=>!e.isBooked&&!e.isDisabled):"disabled"===F&&(e=e.filter(e=>e.isDisabled)),0===(e=[...e].sort((e,s)=>`${e.date}${e.startTime}`.localeCompare(`${s.date}${s.startTime}`))).length)return(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,s.jsx)("p",{children:"Nenhum horÃ¡rio encontrado"})]});let t={};return e.forEach(e=>{t[e.date]||(t[e.date]=[]),t[e.date].push(e)}),(0,s.jsx)("div",{className:"space-y-4 sm:space-y-6",children:Object.entries(t).map(([e,t])=>(0,s.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 sm:p-4",children:[(0,s.jsxs)("h4",{className:"font-semibold text-gray-800 mb-2 sm:mb-3 flex flex-wrap items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,s.jsx)("span",{className:"hidden sm:inline",children:new Date(e+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),(0,s.jsx)("span",{className:"sm:hidden",children:new Date(e+"T12:00:00").toLocaleDateString("pt-BR",{day:"numeric",month:"short"})}),(0,s.jsxs)("span",{className:"text-xs sm:text-sm font-normal text-gray-500",children:["(",t.filter(e=>e.isBooked).length," agendado",1!==t.filter(e=>e.isBooked).length?"s":"",")"]})]}),(0,s.jsx)("div",{className:"grid gap-2 sm:gap-3",children:t.map(e=>{let t=e.booking||x.find(s=>s.slotId===e.id);return(0,s.jsx)("div",{className:`p-2 sm:p-4 rounded-lg border-2 ${e.isDisabled?"bg-gray-100 border-gray-300 opacity-60":e.isBooked?"bg-white border-purple-200":"bg-white border-green-200"}`,children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2 sm:gap-4",children:[(0,s.jsxs)("div",{className:`px-2 sm:px-3 py-1 sm:py-2 rounded-lg font-mono text-sm sm:text-base font-bold ${e.isDisabled?"bg-gray-200 text-gray-500 line-through":e.isBooked?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:[e.startTime,(0,s.jsx)("span",{className:"text-xs mx-0.5 sm:mx-1",children:"-"}),e.endTime]}),e.isDisabled?(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 text-xs rounded-full",children:"Desativado"})}):e.isBooked&&t?(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-800",children:t.name}),(0,s.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:"Agendado"})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 space-y-0.5",children:[t.phone&&(0,s.jsxs)("p",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{children:"ðŸ“±"})," ",t.phone]}),t.email&&(0,s.jsxs)("p",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{children:"âœ‰ï¸"})," ",t.email]}),t.description&&(0,s.jsxs)("p",{className:"text-gray-500 italic mt-1",children:["â€œ",t.description,"â€"]})]})]}):(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:"DisponÃ­vel"})})]}),(0,s.jsxs)("div",{className:"flex gap-1 sm:gap-2 self-end sm:self-auto",children:[e.isBooked&&t&&!e.isDisabled&&(0,s.jsxs)("button",{onClick:()=>b(t.id),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-xs sm:text-sm font-medium flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Desmarcar"})]}),e.isDisabled?(0,s.jsxs)("button",{onClick:()=>N(e.id),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors text-xs sm:text-sm font-medium flex items-center gap-1",title:"Reativar este horÃ¡rio",children:[(0,s.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Reativar"})]}):(0,s.jsxs)("button",{onClick:()=>y(e.id),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors text-xs sm:text-sm font-medium flex items-center gap-1",title:"Desativar este horÃ¡rio",children:[(0,s.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Desativar"})]})]})]})},e.id)})})]},e))})})()]})]}):"bookings"===B?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:W,onChange:e=>O(e.target.value),placeholder:"Buscar por cÃ³digo (AG-0001), nome, telefone ou email...",className:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),W&&(0,s.jsx)("button",{onClick:()=>O(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),0===x.length?(0,s.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,s.jsx)("svg",{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-3 sm:mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,s.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"Nenhum agendamento ainda"})]}):(0,s.jsx)("div",{className:"space-y-3 sm:space-y-4",children:(e=W.toLowerCase().trim(),0===(c=x.filter(s=>{if(!e)return!0;let t=m.find(e=>e.id===s.slotId);return s.id.toLowerCase().includes(e)||s.name.toLowerCase().includes(e)||s.phone&&s.phone.toLowerCase().includes(e)||s.email&&s.email.toLowerCase().includes(e)||t&&t.date.includes(e)}).sort((e,s)=>{let t=m.find(s=>s.id===e.slotId),a=m.find(e=>e.id===s.slotId);return t&&a?`${a.date}${a.startTime}`.localeCompare(`${t.date}${t.startTime}`):0})).length?(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsxs)("p",{className:"text-gray-500",children:['Nenhum agendamento encontrado para "',W,'"']})}):c.map(e=>{let t=m.find(s=>s.id===e.slotId);return(0,s.jsx)("div",{className:"p-3 sm:p-4 bg-gray-50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-2",children:[(0,s.jsx)("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-700 text-xs font-mono rounded",children:e.id}),(0,s.jsx)("span",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:e.name}),t&&(0,s.jsxs)("span",{className:"px-2 py-0.5 sm:py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:[eD(t.date)," Ã s ",t.startTime]})]}),e.phone&&(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:["ðŸ“± ",e.phone]}),e.email&&(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:["âœ‰ï¸ ",e.email]}),e.description&&(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 mt-2 italic",children:["â€œ",e.description,"â€"]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 self-end sm:self-start shrink-0",children:[(0,s.jsx)("button",{onClick:()=>{V(e),T("reallocation")},className:"px-3 py-1.5 sm:py-1 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-xs sm:text-sm",children:"Realocar"}),(0,s.jsx)("button",{onClick:()=>{confirm("Tem certeza que deseja mover este agendamento para o pool de realocaÃ§Ã£o?")&&f(e.id)},className:"px-3 py-1.5 sm:py-1 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors text-xs sm:text-sm",children:"Mover p/ Pool"}),(0,s.jsx)("button",{onClick:()=>{confirm("Tem certeza que deseja cancelar este agendamento?")&&b(e.id)},className:"px-3 py-1.5 sm:py-1 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-xs sm:text-sm",children:"Cancelar"})]})]})},e.id)}))})]}):"holidays"===B?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-yellow-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-yellow-800",children:"Feriados AutomÃ¡ticos"}),(0,s.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"O sistema automaticamente nÃ£o cria slots nos dias de feriados nacionais, estaduais de Alagoas e municipais de MaceiÃ³. Feriados mÃ³veis como Carnaval, PÃ¡scoa e Corpus Christi sÃ£o calculados automaticamente para cada ano."})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:"ðŸ“…"}),"Feriados Fixos"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:l.FIXED_HOLIDAYS.map((e,t)=>(0,s.jsxs)("div",{className:`p-3 rounded-lg border ${"nacional"===e.type?"bg-green-50 border-green-200":"estadual"===e.type?"bg-blue-50 border-blue-200":"bg-purple-50 border-purple-200"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-medium text-gray-800",children:e.name}),(0,s.jsx)("span",{className:`text-xs px-2 py-0.5 rounded-full ${"nacional"===e.type?"bg-green-200 text-green-800":"estadual"===e.type?"bg-blue-200 text-blue-800":"bg-purple-200 text-purple-800"}`,children:e.type})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.date.split("-")[1],"/",e.date.split("-")[0]]})]},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:"ðŸ—“ï¸"}),"Todos os Feriados de ",new Date().getFullYear()]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[(0,s.jsx)("th",{className:"text-left p-3 rounded-tl-lg",children:"Data"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Feriado"}),(0,s.jsx)("th",{className:"text-left p-3 rounded-tr-lg",children:"Tipo"})]})}),(0,s.jsx)("tbody",{children:(0,l.getHolidaysForYear)(new Date().getFullYear()).map((e,t)=>(0,s.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"p-3 font-mono text-gray-600",children:new Date(e.date+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"short",day:"2-digit",month:"2-digit"})}),(0,s.jsx)("td",{className:"p-3 font-medium text-gray-800",children:e.name}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${"nacional"===e.type?"bg-green-100 text-green-800":"estadual"===e.type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:e.type})})]},t))})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:"ðŸ“†"}),"Feriados MÃ³veis de ",new Date().getFullYear()+1]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:(0,l.getHolidaysForYear)(new Date().getFullYear()+1).filter(e=>["Carnaval","Sexta-feira Santa","PÃ¡scoa","Corpus Christi","Quarta-feira de Cinzas"].some(s=>e.name.includes(s)||e.name.includes("Carnaval"))).map((e,t)=>(0,s.jsxs)("div",{className:"p-3 bg-indigo-50 border border-indigo-200 rounded-lg",children:[(0,s.jsx)("span",{className:"font-medium text-gray-800",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-indigo-600 mt-1",children:new Date(e.date+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})})]},t))})]})]}):"reallocation"===B?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-blue-800",children:"Pool de RealocaÃ§Ã£o"}),(0,s.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Aqui estÃ£o listados os agendamentos que foram cancelados administrativamente (ex: cancelamento do dia) e precisam ser realocados. Ao realocar, o usuÃ¡rio receberÃ¡ um email com o novo horÃ¡rio."})]})]})}),q?(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-gray-800",children:["Realocando: ",q.name]}),(0,s.jsx)("button",{onClick:()=>V(null),className:"text-gray-500 hover:text-gray-700",children:"Cancelar"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Selecione um novo horÃ¡rio disponÃ­vel:"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 max-h-[400px] overflow-y-auto",children:m.filter(e=>!e.isBooked&&!e.isDisabled&&e.date>=new Date().toISOString().split("T")[0]).sort((e,s)=>`${e.date}${e.startTime}`.localeCompare(`${s.date}${s.startTime}`)).slice(0,50).map(e=>(0,s.jsxs)("button",{onClick:()=>{confirm(`Confirmar realoca\xe7\xe3o para ${eD(e.date)} \xe0s ${e.startTime}?`)&&v(q.id,e.id).then(e=>{e&&V(null)})},className:"p-3 border border-green-200 bg-green-50 hover:bg-green-100 rounded-lg text-left transition-colors",children:[(0,s.jsx)("p",{className:"font-medium text-green-800",children:eD(e.date)}),(0,s.jsxs)("p",{className:"text-sm text-green-700",children:[e.startTime," - ",e.endTime]})]},e.id))}),0===m.filter(e=>!e.isBooked&&!e.isDisabled&&e.date>=new Date().toISOString().split("T")[0]).length&&(0,s.jsx)("p",{className:"text-center text-gray-500 py-8",children:"NÃ£o hÃ¡ horÃ¡rios disponÃ­veis futuros."})]}):(0,s.jsx)("div",{className:"space-y-4",children:0===x.filter(e=>"pending_reallocation"===e.status).length?(0,s.jsx)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:(0,s.jsx)("p",{className:"text-gray-500",children:"Nenhum agendamento pendente de realocaÃ§Ã£o."})}):x.filter(e=>"pending_reallocation"===e.status).map(e=>(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 shadow-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs font-mono rounded",children:e.id}),(0,s.jsx)("h4",{className:"font-semibold text-gray-800",children:e.name})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 space-y-0.5",children:[e.phone&&(0,s.jsxs)("p",{children:["ðŸ“± ",e.phone]}),e.email&&(0,s.jsxs)("p",{children:["âœ‰ï¸ ",e.email]}),(0,s.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Originalmente agendado em: ",new Date(e.createdAt).toLocaleDateString("pt-BR")]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,s.jsx)("button",{onClick:()=>V(e),className:"flex-1 sm:flex-none px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Realocar"}),(0,s.jsx)("button",{onClick:()=>{confirm("Tem certeza que deseja cancelar definitivamente este agendamento?")&&b(e.id)},className:"flex-1 sm:flex-none px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:"Cancelar"})]})]},e.id))})]}):"internal"===B?(0,s.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Novo Agendamento Interno"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Use este formulÃ¡rio para criar agendamentos em qualquer data e horÃ¡rio, ignorando regras de disponibilidade pÃºblica. Estes agendamentos nÃ£o aparecerÃ£o como disponÃ­veis na agenda pÃºblica."}),(0,s.jsxs)("form",{onSubmit:eL,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),(0,s.jsx)("input",{type:"date",required:!0,value:R,onChange:e=>Y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"InÃ­cio"}),(0,s.jsx)("input",{type:"time",required:!0,value:E,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fim"}),(0,s.jsx)("input",{type:"time",required:!0,value:Q,onChange:e=>J(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),(0,s.jsx)("input",{type:"text",required:!0,value:_,onChange:e=>U(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),(0,s.jsx)("input",{type:"text",value:ee,onChange:e=>es(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,s.jsx)("input",{type:"email",value:K,onChange:e=>G(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),(0,s.jsx)("input",{type:"text",value:X,onChange:e=>Z(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DescriÃ§Ã£o"}),(0,s.jsx)("textarea",{value:et,onChange:e=>ea(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"DescriÃ§Ã£o do agendamento",rows:3})]}),(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsx)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Criar Agendamento Interno"})})]})]})}):null})]})]}):(0,s.jsx)("div",{className:"min-h-[80vh] flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Ãrea Administrativa"}),(0,s.jsx)("p",{className:"text-gray-500 mt-2",children:"Digite a senha para acessar"})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"admin123"===S?(C(!0),sessionStorage.setItem("admin-auth","true"),M("")):M("Senha incorreta")},className:"space-y-4",children:[L&&(0,s.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:L}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),(0,s.jsx)("input",{type:"password",value:S,onChange:e=>D(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Digite a senha",autoFocus:!0})]}),(0,s.jsx)("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Entrar"})]})]})})}e.s(["default",()=>c])}]);