{"version":3,"sources":["../../../../../../../../OneDrive/Desktop/Programming/agendamento-policial/app/components/Calendar.tsx","../../../../../../../../OneDrive/Desktop/Programming/agendamento-policial/app/components/BookingModal.tsx","../../../../../../../../OneDrive/Desktop/Programming/agendamento-policial/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport { useApp } from '../context/AppContext';\r\nimport { TimeSlot } from '../types';\r\nimport BookingModal from './BookingModal';\r\nimport { getHolidaysForYear } from '../utils/holidays';\r\n\r\nconst DAYS_OF_WEEK = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];\r\nconst MONTHS = [\r\n  'Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho',\r\n  'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'\r\n];\r\n\r\nexport default function Calendar() {\r\n  const { slots, isReady } = useApp();\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [selectedDate, setSelectedDate] = useState<string | null>(null);\r\n  const [selectedSlot, setSelectedSlot] = useState<TimeSlot | null>(null);\r\n\r\n  const year = currentDate.getFullYear();\r\n  const month = currentDate.getMonth();\r\n\r\n  const firstDayOfMonth = new Date(year, month, 1);\r\n  const lastDayOfMonth = new Date(year, month + 1, 0);\r\n  const startingDayOfWeek = firstDayOfMonth.getDay();\r\n  const daysInMonth = lastDayOfMonth.getDate();\r\n\r\n  const holidaysMap = useMemo(() => {\r\n    const holidays = getHolidaysForYear(year);\r\n    const map: Record<string, { name: string; type: string }> = {};\r\n    holidays.forEach(h => {\r\n      map[h.date] = { name: h.name, type: h.type };\r\n    });\r\n    return map;\r\n  }, [year]);\r\n\r\n  const slotsByDate = useMemo(() => {\r\n    const map: Record<string, TimeSlot[]> = {};\r\n    // Filtrar slots desativados e internos (p√∫blico n√£o v√™ internos)\r\n    const activeSlots = slots.filter(s => !s.isDisabled && !s.isInternal);\r\n    activeSlots.forEach(slot => {\r\n      if (!map[slot.date]) {\r\n        map[slot.date] = [];\r\n      }\r\n      map[slot.date].push(slot);\r\n    });\r\n    // Ordenar slots por hor√°rio\r\n    Object.keys(map).forEach(date => {\r\n      map[date].sort((a, b) => a.startTime.localeCompare(b.startTime));\r\n    });\r\n    return map;\r\n  }, [slots]);\r\n\r\n  const getDayStatus = (dateStr: string) => {\r\n    const daySlots = slotsByDate[dateStr] || [];\r\n    if (daySlots.length === 0) return 'none';\r\n    // Filtrar slots que j√° passaram\r\n    const availableSlots = daySlots.filter(s => !s.isBooked && !isSlotPast(s));\r\n    if (availableSlots.length === 0) return 'full';\r\n    if (availableSlots.length < daySlots.filter(s => !isSlotPast(s)).length) return 'partial';\r\n    return 'available';\r\n  };\r\n\r\n  const navigateMonth = (direction: 'prev' | 'next') => {\r\n    setCurrentDate(new Date(year, month + (direction === 'next' ? 1 : -1), 1));\r\n    setSelectedDate(null);\r\n  };\r\n\r\n  const formatDateStr = (day: number) => {\r\n    return `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\r\n  };\r\n\r\n  const today = new Date().toISOString().split('T')[0];\r\n  \r\n  // Fun√ß√£o para verificar se um slot j√° passou\r\n  const isSlotPast = (slot: TimeSlot): boolean => {\r\n    const now = new Date();\r\n    const slotDate = new Date(`${slot.date}T${slot.startTime}:00`);\r\n    return slotDate <= now;\r\n  };\r\n\r\n  if (!isReady) {\r\n    return (\r\n      <div className=\"w-full max-w-4xl mx-auto flex items-center justify-center py-20\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full max-w-4xl mx-auto px-2 sm:px-0\">\r\n      {/* Header do Calend√°rio */}\r\n      <div className=\"flex items-center justify-between mb-4 sm:mb-6\">\r\n        <button\r\n          onClick={() => navigateMonth('prev')}\r\n          className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n        >\r\n          <svg className=\"w-5 h-5 sm:w-6 sm:h-6 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n          </svg>\r\n        </button>\r\n        <h2 className=\"text-lg sm:text-2xl font-semibold text-gray-800\">\r\n          {MONTHS[month]} {year}\r\n        </h2>\r\n        <button\r\n          onClick={() => navigateMonth('next')}\r\n          className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n        >\r\n          <svg className=\"w-5 h-5 sm:w-6 sm:h-6 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Dias da Semana */}\r\n      <div className=\"grid grid-cols-7 gap-0.5 sm:gap-1 mb-2\">\r\n        {DAYS_OF_WEEK.map(day => (\r\n          <div key={day} className=\"text-center text-xs sm:text-sm font-medium text-gray-500 py-1 sm:py-2\">\r\n            {day}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Grid do Calend√°rio */}\r\n      <div className=\"grid grid-cols-7 gap-0.5 sm:gap-1\">\r\n        {/* C√©lulas vazias antes do primeiro dia */}\r\n        {Array.from({ length: startingDayOfWeek }).map((_, i) => (\r\n          <div key={`empty-${i}`} className=\"h-14 sm:h-24 bg-gray-50 rounded-lg\" />\r\n        ))}\r\n\r\n        {/* Dias do m√™s */}\r\n        {Array.from({ length: daysInMonth }).map((_, i) => {\r\n          const day = i + 1;\r\n          const dateStr = formatDateStr(day);\r\n          const status = getDayStatus(dateStr);\r\n          const isSelected = selectedDate === dateStr;\r\n          const isPast = dateStr < today;\r\n          const daySlots = slotsByDate[dateStr] || [];\r\n          // Contar apenas slots dispon√≠veis que ainda n√£o passaram\r\n          const availableCount = daySlots.filter(s => !s.isBooked && !isSlotPast(s)).length;\r\n          \r\n          // Verificar se √© feriado\r\n          const holidayInfo = holidaysMap[dateStr];\r\n          const isHolidayDate = !!holidayInfo;\r\n          const holidayName = holidayInfo?.name;\r\n\r\n          return (\r\n            <button\r\n              key={day}\r\n              onClick={() => !isPast && status !== 'none' && !isHolidayDate && setSelectedDate(isSelected ? null : dateStr)}\r\n              disabled={isPast || status === 'none' || isHolidayDate}\r\n              title={isHolidayDate ? `üéâ ${holidayName}` : undefined}\r\n              className={`\r\n                h-14 sm:h-24 rounded-lg p-1 sm:p-2 text-left transition-all relative\r\n                ${isPast ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : ''}\r\n                ${isHolidayDate && !isPast ? 'bg-purple-100 text-purple-800 border-2 border-purple-300 cursor-not-allowed' : ''}\r\n                ${status === 'none' && !isPast && !isHolidayDate ? 'bg-gray-50 text-gray-400 cursor-not-allowed' : ''}\r\n                ${status === 'available' && !isPast && !isHolidayDate ? 'bg-green-50 hover:bg-green-100 border-2 border-green-200 cursor-pointer' : ''}\r\n                ${status === 'partial' && !isPast && !isHolidayDate ? 'bg-yellow-50 hover:bg-yellow-100 border-2 border-yellow-200 cursor-pointer' : ''}\r\n                ${status === 'full' && !isPast && !isHolidayDate ? 'bg-red-50 text-gray-500 border-2 border-red-200 cursor-not-allowed' : ''}\r\n                ${isSelected ? 'ring-2 ring-blue-500 ring-offset-1 sm:ring-offset-2' : ''}\r\n              `}\r\n            >\r\n              <span className={`text-xs sm:text-sm font-medium ${dateStr === today ? 'bg-blue-600 text-white rounded-full w-5 h-5 sm:w-7 sm:h-7 flex items-center justify-center' : ''}`}>\r\n                {day}\r\n              </span>\r\n              {/* Indicador de feriado */}\r\n              {isHolidayDate && !isPast && (\r\n                <div className=\"mt-0.5 sm:mt-1 hidden sm:block\">\r\n                  <span className=\"text-xs text-purple-700 truncate block\" title={holidayName}>\r\n                    üéâ {holidayName && holidayName.length > 10 \r\n                      ? holidayName.substring(0, 10) + '...' \r\n                      : holidayName}\r\n                  </span>\r\n                </div>\r\n              )}\r\n              {status !== 'none' && !isPast && !isHolidayDate && (\r\n                <div className=\"mt-0.5 sm:mt-1 hidden sm:block\">\r\n                  <span className={`text-xs ${status === 'full' ? 'text-red-600' : 'text-green-600'}`}>\r\n                    {status === 'full' ? 'Lotado' : `${availableCount} vaga${availableCount !== 1 ? 's' : ''}`}\r\n                  </span>\r\n                </div>\r\n              )}\r\n              {/* Indicador mobile */}\r\n              {isHolidayDate && !isPast && (\r\n                <div className=\"sm:hidden absolute bottom-1 left-1/2 transform -translate-x-1/2\">\r\n                  <span className=\"text-xs\">üéâ</span>\r\n                </div>\r\n              )}\r\n              {status !== 'none' && !isPast && !isHolidayDate && (\r\n                <div className=\"sm:hidden absolute bottom-1 left-1/2 transform -translate-x-1/2\">\r\n                  <div className={`w-1.5 h-1.5 rounded-full ${status === 'full' ? 'bg-red-500' : status === 'partial' ? 'bg-yellow-500' : 'bg-green-500'}`}></div>\r\n                </div>\r\n              )}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Slots do dia selecionado */}\r\n      {selectedDate && (\r\n        <div className=\"mt-4 sm:mt-8 p-4 sm:p-6 bg-white rounded-xl shadow-lg border border-gray-100\">\r\n          <h3 className=\"text-base sm:text-lg font-semibold text-gray-800 mb-3 sm:mb-4\">\r\n            Hor√°rios dispon√≠veis - {new Date(selectedDate + 'T12:00:00').toLocaleDateString('pt-BR', { \r\n              weekday: 'long', \r\n              day: 'numeric', \r\n              month: 'long' \r\n            })}\r\n          </h3>\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-3\">\r\n            {(slotsByDate[selectedDate] || []).map(slot => {\r\n              const isPastSlot = isSlotPast(slot);\r\n              const isUnavailable = slot.isBooked || isPastSlot;\r\n              \r\n              return (\r\n                <button\r\n                  key={slot.id}\r\n                  onClick={() => !isUnavailable && setSelectedSlot(slot)}\r\n                  disabled={isUnavailable}\r\n                  className={`\r\n                    p-2 sm:p-4 rounded-lg text-center transition-all\r\n                    ${isUnavailable \r\n                      ? 'bg-gray-100 text-gray-400 cursor-not-allowed' \r\n                      : 'bg-blue-50 hover:bg-blue-100 text-blue-700 border-2 border-blue-200 hover:border-blue-300 cursor-pointer'\r\n                    }\r\n                    ${slot.isBooked ? 'line-through' : ''}\r\n                  `}\r\n                  title={isPastSlot && !slot.isBooked ? 'Hor√°rio j√° passou' : slot.isBooked ? 'Hor√°rio ocupado' : 'Clique para agendar'}\r\n                >\r\n                  <span className=\"font-medium text-sm sm:text-base\">{slot.startTime}</span>\r\n                  <span className=\"text-gray-400 mx-0.5 sm:mx-1 text-sm\">-</span>\r\n                  <span className=\"font-medium text-sm sm:text-base\">{slot.endTime}</span>\r\n                  {isPastSlot && !slot.isBooked && (\r\n                    <div className=\"text-xs text-gray-400 mt-1\">Passou</div>\r\n                  )}\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Legenda */}\r\n      <div className=\"mt-4 sm:mt-6 flex flex-wrap gap-2 sm:gap-4 justify-center text-xs sm:text-sm\">\r\n        <div className=\"flex items-center gap-1 sm:gap-2\">\r\n          <div className=\"w-3 h-3 sm:w-4 sm:h-4 rounded bg-green-200 border border-green-300\"></div>\r\n          <span className=\"text-gray-600\">Dispon√≠vel</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1 sm:gap-2\">\r\n          <div className=\"w-3 h-3 sm:w-4 sm:h-4 rounded bg-yellow-200 border border-yellow-300\"></div>\r\n          <span className=\"text-gray-600\">Parcial</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1 sm:gap-2\">\r\n          <div className=\"w-3 h-3 sm:w-4 sm:h-4 rounded bg-red-200 border border-red-300\"></div>\r\n          <span className=\"text-gray-600\">Lotado</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1 sm:gap-2\">\r\n          <div className=\"w-3 h-3 sm:w-4 sm:h-4 rounded bg-purple-200 border border-purple-300\"></div>\r\n          <span className=\"text-gray-600\">Feriado</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal de Agendamento */}\r\n      {selectedSlot && (\r\n        <BookingModal \r\n          slot={selectedSlot} \r\n          onClose={() => setSelectedSlot(null)} \r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { TimeSlot } from '../types';\r\nimport { useApp } from '../context/AppContext';\r\n\r\ninterface BookingModalProps {\r\n  slot: TimeSlot;\r\n  onClose: () => void;\r\n}\r\n\r\ninterface BookingData {\r\n  id: string;\r\n  name: string;\r\n  cpf: string;\r\n  phone: string;\r\n  email: string;\r\n  description?: string;\r\n  date: string;\r\n  startTime: string;\r\n  endTime: string;\r\n  createdAt: string;\r\n}\r\n\r\nexport default function BookingModal({ slot, onClose }: BookingModalProps) {\r\n  const { addBooking } = useApp();\r\n  const [name, setName] = useState('');\r\n  const [cpf, setCpf] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [confirmedBooking, setConfirmedBooking] = useState<BookingData | null>(null);\r\n  const [emailStatus, setEmailStatus] = useState<'pending' | 'sent' | 'failed' | null>(null);\r\n  \r\n  const telefoneContato = process.env.NEXT_PUBLIC_TELEFONE_CONTATO || '(82) 3315-7917';\r\n  const endereco = process.env.NEXT_PUBLIC_ENDERECO || 'Av. Norma Pimentel Costa s/n¬∫, Benedito Bentes, Macei√≥ - Alagoas';\r\n  const emailContato = process.env.NEXT_PUBLIC_EMAIL_CONTATO || '8dp@pc.al.gov.br';\r\n\r\n  const generateEmailHtml = (booking: BookingData) => {\r\n    return `\r\n      <!DOCTYPE html>\r\n      <html>\r\n        <head>\r\n          <meta charset=\"utf-8\">\r\n          <title>Comprovante de Agendamento</title>\r\n        </head>\r\n        <body style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;\">\r\n          <div style=\"text-align: center; border-bottom: 2px solid #1e40af; padding-bottom: 20px; margin-bottom: 30px;\">\r\n            <h1 style=\"margin: 0; color: #1e40af;\">üõ°Ô∏è Agendamento Policial</h1>\r\n            <p style=\"margin: 5px 0 0; color: #666;\">Comprovante de Agendamento</p>\r\n          </div>\r\n\r\n          <div style=\"background: #dbeafe; border: 2px solid #1e40af; border-radius: 8px; padding: 15px; margin-bottom: 20px;\">\r\n            <p style=\"margin: 0; color: #1e3a8a; font-weight: bold; text-align: center;\">üìç Este agendamento √© v√°lido apenas para:</p>\r\n            <ul style=\"margin: 10px 0 0; color: #1e3a8a; padding-left: 20px;\">\r\n              <li><strong>8¬∫ Distrito Policial da Capital</strong></li>\r\n              <li><strong>21¬∫ Distrito Policial da Capital</strong></li>\r\n            </ul>\r\n          </div>\r\n          \r\n          <div style=\"background: #f0f9ff; border: 2px solid #1e40af; border-radius: 8px; padding: 20px; text-align: center; margin-bottom: 30px;\">\r\n            <div style=\"font-size: 18px; font-weight: bold; color: #1e40af;\">${formatDate(booking.date)}</div>\r\n            <div style=\"font-size: 24px; font-weight: bold; color: #333; margin-top: 10px;\">${booking.startTime} - ${booking.endTime}</div>\r\n          </div>\r\n\r\n          <div style=\"margin-bottom: 25px;\">\r\n            <div style=\"font-weight: bold; color: #333; margin-bottom: 10px; font-size: 14px; text-transform: uppercase;\">Dados do Agendamento</div>\r\n            <table style=\"width: 100%; border-collapse: collapse;\">\r\n              <tr>\r\n                <td style=\"padding: 8px 0; font-weight: bold; color: #555; width: 120px;\">Nome:</td>\r\n                <td style=\"padding: 8px 0; color: #333;\">${booking.name}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style=\"padding: 8px 0; font-weight: bold; color: #555;\">CPF:</td>\r\n                <td style=\"padding: 8px 0; color: #333;\">${booking.cpf.replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{2})/, '$1.$2.$3-$4')}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style=\"padding: 8px 0; font-weight: bold; color: #555;\">Telefone:</td>\r\n                <td style=\"padding: 8px 0; color: #333;\">${booking.phone.replace(/(\\d{2})(\\d{5})(\\d{4})/, '($1) $2-$3')}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style=\"padding: 8px 0; font-weight: bold; color: #555;\">E-mail:</td>\r\n                <td style=\"padding: 8px 0; color: #333;\">${booking.email}</td>\r\n              </tr>\r\n              ${booking.description ? `\r\n              <tr>\r\n                <td style=\"padding: 8px 0; font-weight: bold; color: #555;\">Descri√ß√£o:</td>\r\n                <td style=\"padding: 8px 0; color: #333;\">${booking.description}</td>\r\n              </tr>\r\n              ` : ''}\r\n              <tr>\r\n                <td style=\"padding: 8px 0; font-weight: bold; color: #555;\">C√≥digo:</td>\r\n                <td style=\"padding: 8px 0; color: #333; font-family: monospace;\">${booking.id}</td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n\r\n          <div style=\"background: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; padding: 15px; margin-top: 30px;\">\r\n            <h3 style=\"color: #b45309; margin: 0 0 10px 0; font-size: 14px;\">‚ö†Ô∏è IMPORTANTE - LEVE NO DIA DO ATENDIMENTO:</h3>\r\n            <ul style=\"margin: 0; padding-left: 20px; color: #92400e;\">\r\n              <li style=\"margin-bottom: 8px;\"><strong>Documento de identifica√ß√£o com foto</strong> (RG, CNH ou outro documento oficial)</li>\r\n              <li style=\"margin-bottom: 8px;\"><strong>Provas e evid√™ncias relacionadas ao relato:</strong>\r\n                <ul style=\"margin-top: 5px;\">\r\n                  <li>Mensagens de texto (prints de WhatsApp, SMS, etc.)</li>\r\n                  <li>√Åudios e v√≠deos relevantes</li>\r\n                  <li>Fotos e imagens</li>\r\n                  <li>Documentos e artefatos relacionados</li>\r\n                </ul>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div style=\"margin-top: 40px; text-align: center; color: #666; font-size: 12px; border-top: 1px solid #ddd; padding-top: 20px;\">\r\n            <p style=\"margin-bottom: 10px;\"><strong>üìç Endere√ßo:</strong> ${endereco}</p>\r\n            <p><strong>üìû Telefone:</strong> ${telefoneContato} | <strong>üìß E-mail:</strong> ${emailContato}</p>\r\n            <p style=\"margin-top: 15px; font-size: 11px;\">Agendamento realizado em: ${new Date(booking.createdAt).toLocaleString('pt-BR')}</p>\r\n            <p style=\"font-size: 11px;\">Em caso de necessidade de cancelamento ou d√∫vidas, entre em contato conosco.</p>\r\n          </div>\r\n        </body>\r\n      </html>\r\n    `;\r\n  };\r\n\r\n  const sendConfirmationEmail = async (booking: BookingData) => {\r\n    try {\r\n      setEmailStatus('pending');\r\n      const response = await fetch('/api/send-email', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          to: booking.email,\r\n          subject: `Confirma√ß√£o de Agendamento - ${formatDate(booking.date)} √†s ${booking.startTime}`,\r\n          html: generateEmailHtml(booking),\r\n        }),\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (result.success && result.emailSent) {\r\n        setEmailStatus('sent');\r\n      } else {\r\n        setEmailStatus('failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao enviar email:', error);\r\n      setEmailStatus('failed');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    if (!name.trim()) {\r\n      setError('Nome √© obrigat√≥rio');\r\n      return;\r\n    }\r\n\r\n    if (!cpf.trim()) {\r\n      setError('CPF √© obrigat√≥rio');\r\n      return;\r\n    }\r\n\r\n    // Validar formato de CPF (apenas n√∫meros, 11 d√≠gitos)\r\n    const cpfClean = cpf.replace(/\\D/g, '');\r\n    if (cpfClean.length !== 11) {\r\n      setError('CPF inv√°lido. Digite os 11 d√≠gitos.');\r\n      return;\r\n    }\r\n\r\n    // Validar se todos os d√≠gitos s√£o iguais (CPF inv√°lido)\r\n    if (/^(\\d)\\1{10}$/.test(cpfClean)) {\r\n      setError('CPF inv√°lido.');\r\n      return;\r\n    }\r\n\r\n    // Validar d√≠gitos verificadores do CPF\r\n    let soma = 0;\r\n    for (let i = 0; i < 9; i++) {\r\n      soma += parseInt(cpfClean.charAt(i)) * (10 - i);\r\n    }\r\n    let resto = (soma * 10) % 11;\r\n    if (resto === 10 || resto === 11) resto = 0;\r\n    if (resto !== parseInt(cpfClean.charAt(9))) {\r\n      setError('CPF inv√°lido.');\r\n      return;\r\n    }\r\n    soma = 0;\r\n    for (let i = 0; i < 10; i++) {\r\n      soma += parseInt(cpfClean.charAt(i)) * (11 - i);\r\n    }\r\n    resto = (soma * 10) % 11;\r\n    if (resto === 10 || resto === 11) resto = 0;\r\n    if (resto !== parseInt(cpfClean.charAt(10))) {\r\n      setError('CPF inv√°lido.');\r\n      return;\r\n    }\r\n\r\n    if (!phone.trim()) {\r\n      setError('Celular √© obrigat√≥rio');\r\n      return;\r\n    }\r\n\r\n    // Validar formato de celular brasileiro (11 d√≠gitos: DDD + 9 + 8 d√≠gitos)\r\n    const phoneClean = phone.replace(/\\D/g, '');\r\n    if (!/^[1-9]{2}9[0-9]{8}$/.test(phoneClean)) {\r\n      setError('Celular inv√°lido. Use o formato (XX) 9XXXX-XXXX');\r\n      return;\r\n    }\r\n\r\n    if (!email.trim()) {\r\n      setError('E-mail √© obrigat√≥rio');\r\n      return;\r\n    }\r\n\r\n    // Validar formato de email\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email.trim())) {\r\n      setError('E-mail inv√°lido');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const booking = {\r\n        id: '', // Ser√° gerado pelo servidor\r\n        slotId: slot.id,\r\n        name: name.trim(),\r\n        cpf: cpf.replace(/\\D/g, ''),\r\n        phone: phone.replace(/\\D/g, ''),\r\n        email: email.trim(),\r\n        description: description.trim() || undefined,\r\n        createdAt: new Date().toISOString(),\r\n      };\r\n\r\n      const savedBooking = await addBooking(booking);\r\n      if (savedBooking) {\r\n        const bookingData: BookingData = {\r\n          ...savedBooking,\r\n          cpf: savedBooking.cpf || '',\r\n          phone: savedBooking.phone || '',\r\n          email: savedBooking.email || '',\r\n          date: slot.date,\r\n          startTime: slot.startTime,\r\n          endTime: slot.endTime,\r\n        };\r\n        \r\n        // Mostrar tela de confirma√ß√£o\r\n        setConfirmedBooking(bookingData);\r\n        \r\n        // Enviar email de confirma√ß√£o\r\n        sendConfirmationEmail(bookingData);\r\n      } else {\r\n        setError('Erro ao fazer agendamento. Tente novamente.');\r\n      }\r\n    } catch {\r\n      setError('Erro ao fazer agendamento. Tente novamente.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateStr: string) => {\r\n    return new Date(dateStr + 'T12:00:00').toLocaleDateString('pt-BR', {\r\n      weekday: 'long',\r\n      day: 'numeric',\r\n      month: 'long',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const formatCpf = (cpf: string) => {\r\n    const cleaned = cpf.replace(/\\D/g, '');\r\n    return cleaned.replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{2})/, '$1.$2.$3-$4');\r\n  };\r\n\r\n  const formatPhone = (phone: string) => {\r\n    const cleaned = phone.replace(/\\D/g, '');\r\n    if (cleaned.length === 11) {\r\n      return cleaned.replace(/(\\d{2})(\\d{5})(\\d{4})/, '($1) $2-$3');\r\n    }\r\n    return phone;\r\n  };\r\n\r\n  const handlePrint = () => {\r\n    if (!confirmedBooking) return;\r\n\r\n    const printWindow = window.open('', '_blank');\r\n    if (!printWindow) return;\r\n\r\n    const cpfHtml = confirmedBooking.cpf ? `<div class=\"info-row\"><span class=\"info-label\">CPF:</span><span class=\"info-value\">${formatCpf(confirmedBooking.cpf)}</span></div>` : '';\r\n    const phoneHtml = confirmedBooking.phone ? `<div class=\"info-row\"><span class=\"info-label\">Telefone:</span><span class=\"info-value\">${formatPhone(confirmedBooking.phone)}</span></div>` : '';\r\n    const emailHtml = confirmedBooking.email ? `<div class=\"info-row\"><span class=\"info-label\">E-mail:</span><span class=\"info-value\">${confirmedBooking.email}</span></div>` : '';\r\n    const descHtml = confirmedBooking.description ? `<div class=\"info-row\"><span class=\"info-label\">Descri√ß√£o:</span><span class=\"info-value\">${confirmedBooking.description}</span></div>` : '';\r\n\r\n    printWindow.document.write(`\r\n      <!DOCTYPE html>\r\n      <html>\r\n        <head>\r\n          <title>Comprovante de Agendamento</title>\r\n          <style>\r\n            body {\r\n              font-family: Arial, sans-serif;\r\n              padding: 40px;\r\n              max-width: 600px;\r\n              margin: 0 auto;\r\n            }\r\n            .header {\r\n              text-align: center;\r\n              border-bottom: 2px solid #333;\r\n              padding-bottom: 20px;\r\n              margin-bottom: 30px;\r\n            }\r\n            .header h1 {\r\n              margin: 0;\r\n              color: #1e40af;\r\n            }\r\n            .header p {\r\n              margin: 5px 0 0;\r\n              color: #666;\r\n            }\r\n            .section {\r\n              margin-bottom: 25px;\r\n            }\r\n            .section-title {\r\n              font-weight: bold;\r\n              color: #333;\r\n              margin-bottom: 10px;\r\n              font-size: 14px;\r\n              text-transform: uppercase;\r\n            }\r\n            .info-row {\r\n              display: flex;\r\n              margin-bottom: 8px;\r\n            }\r\n            .info-label {\r\n              font-weight: bold;\r\n              width: 120px;\r\n              color: #555;\r\n            }\r\n            .info-value {\r\n              color: #333;\r\n            }\r\n            .highlight-box {\r\n              background: #f0f9ff;\r\n              border: 2px solid #1e40af;\r\n              border-radius: 8px;\r\n              padding: 20px;\r\n              text-align: center;\r\n              margin-bottom: 30px;\r\n            }\r\n            .highlight-box .date {\r\n              font-size: 18px;\r\n              font-weight: bold;\r\n              color: #1e40af;\r\n            }\r\n            .highlight-box .time {\r\n              font-size: 24px;\r\n              font-weight: bold;\r\n              color: #333;\r\n              margin-top: 10px;\r\n            }\r\n            .warning-box {\r\n              background: #fef3c7;\r\n              border: 1px solid #f59e0b;\r\n              border-radius: 8px;\r\n              padding: 15px;\r\n              margin-top: 30px;\r\n            }\r\n            .warning-box h3 {\r\n              color: #b45309;\r\n              margin: 0 0 10px 0;\r\n              font-size: 14px;\r\n            }\r\n            .warning-box ul {\r\n              margin: 0;\r\n              padding-left: 20px;\r\n              color: #92400e;\r\n            }\r\n            .warning-box li {\r\n              margin-bottom: 8px;\r\n            }\r\n            .warning-box ul ul {\r\n              margin-top: 5px;\r\n            }\r\n            .footer {\r\n              margin-top: 40px;\r\n              text-align: center;\r\n              color: #666;\r\n              font-size: 12px;\r\n              border-top: 1px solid #ddd;\r\n              padding-top: 20px;\r\n            }\r\n            @media print {\r\n              body { padding: 20px; }\r\n            }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <div class=\"header\">\r\n            <h1>üõ°Ô∏è Agendamento Policial</h1>\r\n            <p>Comprovante de Agendamento</p>\r\n          </div>\r\n\r\n          <div style=\"background: #dbeafe; border: 2px solid #1e40af; border-radius: 8px; padding: 15px; margin-bottom: 20px;\">\r\n            <p style=\"margin: 0; color: #1e3a8a; font-weight: bold; text-align: center;\">üìç Este agendamento √© v√°lido apenas para:</p>\r\n            <ul style=\"margin: 10px 0 0; color: #1e3a8a; padding-left: 20px;\">\r\n              <li><strong>8¬∫ Distrito Policial da Capital</strong></li>\r\n              <li><strong>21¬∫ Distrito Policial da Capital</strong></li>\r\n            </ul>\r\n          </div>\r\n          \r\n          <div class=\"highlight-box\">\r\n            <div class=\"date\">${formatDate(confirmedBooking.date)}</div>\r\n            <div class=\"time\">${confirmedBooking.startTime} - ${confirmedBooking.endTime}</div>\r\n          </div>\r\n\r\n          <div class=\"section\">\r\n            <div class=\"section-title\">Dados do Agendamento</div>\r\n            <div class=\"info-row\">\r\n              <span class=\"info-label\">Nome:</span>\r\n              <span class=\"info-value\">${confirmedBooking.name}</span>\r\n            </div>\r\n            ${cpfHtml}\r\n            ${phoneHtml}\r\n            ${emailHtml}\r\n            ${descHtml}\r\n            <div class=\"info-row\">\r\n              <span class=\"info-label\">C√≥digo:</span>\r\n              <span class=\"info-value\">${confirmedBooking.id}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"warning-box\">\r\n            <h3>‚ö†Ô∏è IMPORTANTE - LEVE NO DIA DO ATENDIMENTO:</h3>\r\n            <ul>\r\n              <li><strong>Documento de identifica√ß√£o com foto</strong> (RG, CNH ou outro documento oficial)</li>\r\n              <li><strong>Provas e evid√™ncias relacionadas ao relato:</strong>\r\n                <ul>\r\n                  <li>Mensagens de texto (prints de WhatsApp, SMS, etc.)</li>\r\n                  <li>√Åudios e v√≠deos relevantes</li>\r\n                  <li>Fotos e imagens</li>\r\n                  <li>Documentos e artefatos relacionados</li>\r\n                </ul>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div class=\"footer\">\r\n            <p style=\"margin-bottom: 10px;\"><strong>üìç Endere√ßo:</strong> ${endereco}</p>\r\n            <p><strong>üìû Telefone:</strong> ${telefoneContato} | <strong>üìß E-mail:</strong> ${emailContato}</p>\r\n            <p style=\"margin-top: 15px;\">Agendamento realizado em: ${new Date(confirmedBooking.createdAt).toLocaleString('pt-BR')}</p>\r\n            <p>Em caso de necessidade de cancelamento ou d√∫vidas, entre em contato conosco.</p>\r\n          </div>\r\n        </body>\r\n      </html>\r\n    `);\r\n\r\n    printWindow.document.close();\r\n    printWindow.focus();\r\n    setTimeout(() => {\r\n      printWindow.print();\r\n      printWindow.close();\r\n    }, 250);\r\n  };\r\n\r\n  // Tela de confirma√ß√£o ap√≥s agendamento\r\n  if (confirmedBooking) {\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center p-0 sm:p-4 z-50\">\r\n        <div className=\"bg-white rounded-t-2xl sm:rounded-2xl shadow-2xl w-full sm:max-w-lg overflow-hidden max-h-[95vh] sm:max-h-[90vh] overflow-y-auto\">\r\n          {/* Header de Sucesso */}\r\n          <div className=\"bg-gradient-to-r from-green-600 to-green-700 p-4 sm:p-6 text-white sticky top-0\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center\">\r\n                <svg className=\"w-7 h-7\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                </svg>\r\n              </div>\r\n              <div>\r\n                <h2 className=\"text-xl font-semibold\">Agendamento Confirmado!</h2>\r\n                <p className=\"text-green-100 text-sm\">Seu atendimento foi agendado com sucesso</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Resumo na Tela */}\r\n          <div className=\"p-4 sm:p-6 space-y-4\">\r\n            {/* Aviso de Distritos */}\r\n            <div className=\"bg-blue-100 border-2 border-blue-400 rounded-xl p-4\">\r\n              <p className=\"text-blue-800 font-bold text-center mb-2 flex items-center justify-center gap-2\">\r\n                <span>üìç</span> Este agendamento √© v√°lido apenas para:\r\n              </p>\r\n              <ul className=\"text-blue-900 text-sm space-y-1 ml-4\">\r\n                <li><strong>‚Ä¢ 8¬∫ Distrito Policial da Capital</strong></li>\r\n                <li><strong>‚Ä¢ 21¬∫ Distrito Policial da Capital</strong></li>\r\n              </ul>\r\n            </div>\r\n\r\n            {/* Box com Data e Hor√°rio */}\r\n            <div className=\"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 text-center\">\r\n              <p className=\"text-blue-800 font-medium\">{formatDate(confirmedBooking.date)}</p>\r\n              <p className=\"text-2xl font-bold text-blue-900 mt-1\">\r\n                {confirmedBooking.startTime} - {confirmedBooking.endTime}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Dados do Agendamento */}\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"font-semibold text-gray-800 text-sm uppercase\">Seus Dados</h3>\r\n              <div className=\"bg-gray-50 rounded-lg p-3 space-y-1 text-sm\">\r\n                <p><span className=\"font-medium text-gray-600\">Nome:</span> {confirmedBooking.name}</p>\r\n                {confirmedBooking.cpf && (\r\n                  <p><span className=\"font-medium text-gray-600\">CPF:</span> {formatCpf(confirmedBooking.cpf)}</p>\r\n                )}\r\n                {confirmedBooking.phone && (\r\n                  <p><span className=\"font-medium text-gray-600\">Telefone:</span> {formatPhone(confirmedBooking.phone)}</p>\r\n                )}\r\n                {confirmedBooking.email && (\r\n                  <p><span className=\"font-medium text-gray-600\">E-mail:</span> {confirmedBooking.email}</p>\r\n                )}\r\n                {confirmedBooking.description && (\r\n                  <p><span className=\"font-medium text-gray-600\">Descri√ß√£o:</span> {confirmedBooking.description}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Avisos Importantes */}\r\n            <div className=\"bg-amber-50 border border-amber-300 rounded-xl p-4\">\r\n              <h3 className=\"font-bold text-amber-800 flex items-center gap-2 mb-3\">\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                </svg>\r\n                Importante - Leve no dia:\r\n              </h3>\r\n              <ul className=\"text-amber-900 text-sm space-y-2\">\r\n                <li className=\"flex items-start gap-2\">\r\n                  <span className=\"text-amber-600 mt-0.5\">üìÑ</span>\r\n                  <span><strong>Documento de identifica√ß√£o com foto</strong> (RG, CNH ou outro documento oficial)</span>\r\n                </li>\r\n                <li className=\"flex items-start gap-2\">\r\n                  <span className=\"text-amber-600 mt-0.5\">üì±</span>\r\n                  <span><strong>Mensagens de texto</strong> (prints de WhatsApp, SMS, redes sociais)</span>\r\n                </li>\r\n                <li className=\"flex items-start gap-2\">\r\n                  <span className=\"text-amber-600 mt-0.5\">üéµ</span>\r\n                  <span><strong>√Åudios e v√≠deos</strong> relevantes ao caso</span>\r\n                </li>\r\n                <li className=\"flex items-start gap-2\">\r\n                  <span className=\"text-amber-600 mt-0.5\">üì∑</span>\r\n                  <span><strong>Fotos e imagens</strong> relacionadas</span>\r\n                </li>\r\n                <li className=\"flex items-start gap-2\">\r\n                  <span className=\"text-amber-600 mt-0.5\">üìÅ</span>\r\n                  <span><strong>Documentos e artefatos</strong> que comprovem o relato</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            {/* C√≥digo do Agendamento e Contatos */}\r\n            <div className=\"text-center text-xs text-gray-500 space-y-2 bg-gray-50 rounded-lg p-3\">\r\n              <p className=\"text-gray-700\"><strong>üìç Endere√ßo:</strong> {endereco}</p>\r\n              <p><strong>üìû</strong> {telefoneContato} | <strong>üìß</strong> {emailContato}</p>\r\n              <p className=\"pt-1 border-t border-gray-200\">C√≥digo: <span className=\"font-mono\">{confirmedBooking.id}</span></p>\r\n            </div>\r\n\r\n            {/* Status do Email */}\r\n            <div className={`p-3 rounded-lg text-sm flex items-center gap-2 ${\r\n              emailStatus === 'pending' ? 'bg-blue-50 text-blue-700' :\r\n              emailStatus === 'sent' ? 'bg-green-50 text-green-700' :\r\n              emailStatus === 'failed' ? 'bg-red-50 text-red-700' :\r\n              'bg-gray-50 text-gray-600'\r\n            }`}>\r\n              {emailStatus === 'pending' && (\r\n                <>\r\n                  <svg className=\"animate-spin h-4 w-4\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n                  </svg>\r\n                  <span>Enviando comprovante para {confirmedBooking.email}...</span>\r\n                </>\r\n              )}\r\n              {emailStatus === 'sent' && (\r\n                <>\r\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                  </svg>\r\n                  <span>Comprovante enviado para {confirmedBooking.email}</span>\r\n                </>\r\n              )}\r\n              {emailStatus === 'failed' && (\r\n                <>\r\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                  </svg>\r\n                  <span>N√£o foi poss√≠vel enviar o email. Use o bot√£o Imprimir.</span>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {/* Bot√µes */}\r\n            <div className=\"flex gap-3 pt-2\">\r\n              <button\r\n                onClick={handlePrint}\r\n                className=\"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium flex items-center justify-center gap-2\"\r\n              >\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\" />\r\n                </svg>\r\n                Imprimir\r\n              </button>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium\"\r\n              >\r\n                Concluir\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center p-0 sm:p-4 z-50\">\r\n      <div className=\"bg-white rounded-t-2xl sm:rounded-2xl shadow-2xl w-full sm:max-w-md overflow-hidden max-h-[85vh] sm:max-h-[90vh] overflow-y-auto\">\r\n        {/* Header */}\r\n        <div className=\"bg-gradient-to-r from-blue-600 to-blue-700 p-3 sm:p-6 text-white sticky top-0 z-10\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <h2 className=\"text-base sm:text-xl font-semibold\">Agendar Atendimento</h2>\r\n              <p className=\"mt-0.5 sm:mt-1 text-blue-100 text-xs sm:text-sm\">{formatDate(slot.date)}</p>\r\n              <p className=\"text-lg sm:text-2xl font-bold mt-1 sm:mt-2\">\r\n                {slot.startTime} - {slot.endTime}\r\n              </p>\r\n            </div>\r\n            <button \r\n              onClick={onClose}\r\n              className=\"p-1 hover:bg-white/20 rounded-full transition-colors\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleSubmit} className=\"p-3 sm:p-6 space-y-3\">\r\n          {/* Aviso Legal - Art. 299 CP */}\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-2.5 sm:p-3 text-xs text-red-800\">\r\n            <p className=\"font-bold flex items-center gap-1 mb-1\">\r\n              <svg className=\"w-4 h-4 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n              </svg>\r\n              Art. 299 do C√≥digo Penal\r\n            </p>\r\n            <p className=\"text-red-700 leading-snug text-[11px] sm:text-xs\">\r\n              Inserir declara√ß√£o falsa em documento: <strong>Pena - reclus√£o de 1 a 5 anos, e multa.</strong>\r\n            </p>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"p-2.5 sm:p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Nome completo <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              onInvalid={(e) => (e.target as HTMLInputElement).setCustomValidity('Por favor, preencha este campo.')}\r\n              onInput={(e) => (e.target as HTMLInputElement).setCustomValidity('')}\r\n              className=\"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none text-base\"\r\n              placeholder=\"Digite seu nome completo\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              CPF <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={cpf}\r\n              onChange={(e) => {\r\n                const value = e.target.value.replace(/\\D/g, '');\r\n                if (value.length <= 11) {\r\n                  const formatted = value\r\n                    .replace(/(\\d{3})(\\d)/, '$1.$2')\r\n                    .replace(/(\\d{3})(\\d)/, '$1.$2')\r\n                    .replace(/(\\d{3})(\\d{1,2})$/, '$1-$2');\r\n                  setCpf(formatted);\r\n                }\r\n              }}\r\n              onInvalid={(e) => (e.target as HTMLInputElement).setCustomValidity('Por favor, preencha este campo.')}\r\n              onInput={(e) => (e.target as HTMLInputElement).setCustomValidity('')}\r\n              className=\"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none text-base\"\r\n              placeholder=\"000.000.000-00\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Celular <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"tel\"\r\n              value={phone}\r\n              onChange={(e) => {\r\n                const value = e.target.value.replace(/\\D/g, '');\r\n                if (value.length <= 11) {\r\n                  let formatted = value;\r\n                  if (value.length > 0) {\r\n                    formatted = '(' + value.substring(0, 2);\r\n                    if (value.length > 2) {\r\n                      formatted += ') ' + value.substring(2, 7);\r\n                    }\r\n                    if (value.length > 7) {\r\n                      formatted += '-' + value.substring(7, 11);\r\n                    }\r\n                  }\r\n                  setPhone(formatted);\r\n                }\r\n              }}\r\n              onInvalid={(e) => (e.target as HTMLInputElement).setCustomValidity('Por favor, preencha este campo.')}\r\n              onInput={(e) => (e.target as HTMLInputElement).setCustomValidity('')}\r\n              className=\"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none text-base\"\r\n              placeholder=\"(82) 99999-9999\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              E-mail <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              onInvalid={(e) => {\r\n                const input = e.target as HTMLInputElement;\r\n                if (input.validity.valueMissing) {\r\n                  input.setCustomValidity('Por favor, preencha este campo.');\r\n                } else if (input.validity.typeMismatch) {\r\n                  input.setCustomValidity('Por favor, insira um endere√ßo de e-mail v√°lido.');\r\n                }\r\n              }}\r\n              onInput={(e) => (e.target as HTMLInputElement).setCustomValidity('')}\r\n              className=\"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none text-base\"\r\n              placeholder=\"seu@email.com\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Descri√ß√£o breve <span className=\"text-gray-400\">(opcional)</span>\r\n            </label>\r\n            <textarea\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              rows={2}\r\n              className=\"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none resize-none text-base\"\r\n              placeholder=\"Motivo do atendimento...\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex gap-2 sm:gap-3 pt-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"flex-1 px-3 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className=\"flex-1 px-3 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm\"\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <svg className=\"animate-spin h-4 w-4\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n                  </svg>\r\n                  Agendando...\r\n                </>\r\n              ) : (\r\n                'Confirmar'\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport Calendar from './components/Calendar';\r\nimport packageJson from '../package.json';\r\n\r\nexport default function Home() {\r\n  const endereco = process.env.NEXT_PUBLIC_ENDERECO || 'Av. Norma Pimentel Costa s/n¬∫, Benedito Bentes, Macei√≥ - Alagoas';\r\n  const telefone = process.env.NEXT_PUBLIC_TELEFONE_CONTATO || '(82) 3315-7917';\r\n  const email = process.env.NEXT_PUBLIC_EMAIL_CONTATO || '8dp@pc.al.gov.br';\r\n  const version = packageJson.version;\r\n\r\n  return (\r\n    <main className=\"py-4 sm:py-8 px-3 sm:px-4\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        {/* Hero Section */}\r\n        <div className=\"text-center mb-6 sm:mb-10\">\r\n          <h1 className=\"text-2xl sm:text-4xl font-bold text-gray-800 mb-2 sm:mb-4\">\r\n            Agende seu Atendimento\r\n          </h1>\r\n          <p className=\"text-sm sm:text-lg text-gray-600 max-w-2xl mx-auto px-2\">\r\n            Selecione uma data dispon√≠vel no calend√°rio abaixo e escolha o hor√°rio \r\n            que melhor se adequa √† sua necessidade.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Disclaimer - Distritos V√°lidos */}\r\n        <div className=\"bg-blue-600 text-white rounded-xl sm:rounded-2xl p-4 sm:p-6 mb-6 sm:mb-8 shadow-lg\">\r\n          <div className=\"flex flex-col sm:flex-row items-center gap-4\">\r\n            <div className=\"w-14 h-14 sm:w-16 sm:h-16 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0\">\r\n              <span className=\"text-3xl sm:text-4xl\">üìç</span>\r\n            </div>\r\n            <div className=\"text-center sm:text-left flex-1\">\r\n              <h2 className=\"text-lg sm:text-xl font-bold mb-2\">\r\n                Este agendamento √© v√°lido apenas para:\r\n              </h2>\r\n              <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-6 justify-center sm:justify-start mb-3\">\r\n                <span className=\"bg-white/20 px-4 py-2 rounded-lg font-semibold text-sm sm:text-base\">\r\n                  üèõÔ∏è 8¬∫ Distrito Policial da Capital\r\n                </span>\r\n                <span className=\"bg-white/20 px-4 py-2 rounded-lg font-semibold text-sm sm:text-base\">\r\n                  üèõÔ∏è 21¬∫ Distrito Policial da Capital\r\n                </span>\r\n              </div>\r\n              <div className=\"text-blue-100 text-xs sm:text-sm space-y-1\">\r\n                <p><strong>üìç Endere√ßo:</strong> {endereco}</p>\r\n                <p>\r\n                  <strong>üìû</strong> {telefone} &nbsp;|&nbsp; \r\n                  <strong>üìß</strong> {email}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Calendar Component */}\r\n        <div className=\"bg-white rounded-xl sm:rounded-2xl shadow-xl p-3 sm:p-6 md:p-8\">\r\n          <Calendar />\r\n        </div>\r\n\r\n        {/* Info Section */}\r\n        <div className=\"mt-6 sm:mt-10 grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-6\">\r\n          <div className=\"bg-white rounded-xl p-4 sm:p-6 shadow-md\">\r\n            <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-3 sm:mb-4\">\r\n              <svg className=\"w-5 h-5 sm:w-6 sm:h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-base sm:text-lg font-semibold text-gray-800 mb-1 sm:mb-2\">1. Escolha a Data</h3>\r\n            <p className=\"text-gray-600 text-xs sm:text-sm\">\r\n              Navegue pelo calend√°rio e selecione uma data com hor√°rios dispon√≠veis.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl p-4 sm:p-6 shadow-md\">\r\n            <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-lg flex items-center justify-center mb-3 sm:mb-4\">\r\n              <svg className=\"w-5 h-5 sm:w-6 sm:h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-base sm:text-lg font-semibold text-gray-800 mb-1 sm:mb-2\">2. Selecione o Hor√°rio</h3>\r\n            <p className=\"text-gray-600 text-xs sm:text-sm\">\r\n              Escolha um dos hor√°rios dispon√≠veis para o atendimento.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl p-4 sm:p-6 shadow-md\">\r\n            <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-3 sm:mb-4\">\r\n              <svg className=\"w-5 h-5 sm:w-6 sm:h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-base sm:text-lg font-semibold text-gray-800 mb-1 sm:mb-2\">3. Confirme seus Dados</h3>\r\n            <p className=\"text-gray-600 text-xs sm:text-sm\">\r\n              Preencha seu nome e informa√ß√µes de contato para finalizar.\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer com Informa√ß√µes de Contato */}\r\n        <footer className=\"mt-8 sm:mt-12 bg-gray-800 text-white rounded-xl sm:rounded-2xl p-6 sm:p-8\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {/* Informa√ß√µes de Contato */}\r\n            <div>\r\n              <h3 className=\"text-lg font-bold mb-4 flex items-center gap-2\">\r\n                <span className=\"text-2xl\">üìû</span> Contato\r\n              </h3>\r\n              <div className=\"space-y-3 text-gray-300 text-sm\">\r\n                <p className=\"flex items-start gap-2\">\r\n                  <span className=\"text-blue-400 mt-0.5\">üìç</span>\r\n                  <span>{endereco}</span>\r\n                </p>\r\n                <p className=\"flex items-center gap-2\">\r\n                  <span className=\"text-green-400\">üìû</span>\r\n                  <a href={`tel:${telefone.replace(/\\D/g, '')}`} className=\"hover:text-white transition-colors\">\r\n                    {telefone}\r\n                  </a>\r\n                </p>\r\n                <p className=\"flex items-center gap-2\">\r\n                  <span className=\"text-yellow-400\">üìß</span>\r\n                  <a href={`mailto:${email}`} className=\"hover:text-white transition-colors\">\r\n                    {email}\r\n                  </a>\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Distritos Atendidos */}\r\n            <div>\r\n              <h3 className=\"text-lg font-bold mb-4 flex items-center gap-2\">\r\n                <span className=\"text-2xl\">üèõÔ∏è</span> Distritos Atendidos\r\n              </h3>\r\n              <ul className=\"space-y-2 text-gray-300 text-sm\">\r\n                <li className=\"flex items-center gap-2\">\r\n                  <span className=\"w-2 h-2 bg-blue-400 rounded-full\"></span>\r\n                  8¬∫ Distrito Policial da Capital\r\n                </li>\r\n                <li className=\"flex items-center gap-2\">\r\n                  <span className=\"w-2 h-2 bg-blue-400 rounded-full\"></span>\r\n                  21¬∫ Distrito Policial da Capital\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Cr√©ditos */}\r\n          <div className=\"mt-6 pt-6 border-t border-gray-700 text-center text-gray-400 text-xs\">\r\n            <p>¬© {new Date().getFullYear()} Pol√≠cia Civil de Alagoas. Todos os direitos reservados.</p>\r\n            <p className=\"mt-1\">Em caso de d√∫vidas ou necessidade de cancelamento, entre em contato conosco.</p>\r\n            <p className=\"mt-2 text-gray-500\">v{version}</p>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}