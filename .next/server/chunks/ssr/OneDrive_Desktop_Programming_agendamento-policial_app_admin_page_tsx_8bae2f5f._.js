module.exports=[15754,a=>{"use strict";var b=a.i(71629),c=a.i(97947),d=a.i(62816),e=a.i(45376),f=a.i(20394);let g=[{value:0,label:"Domingo"},{value:1,label:"Segunda-feira"},{value:2,label:"TerÃ§a-feira"},{value:3,label:"Quarta-feira"},{value:4,label:"Quinta-feira"},{value:5,label:"Sexta-feira"},{value:6,label:"SÃ¡bado"}],h=["Dom","Seg","Ter","Qua","Qui","Sex","SÃ¡b"],i=["Janeiro","Fevereiro","MarÃ§o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function j(){return!1}function k(){let a,k,{slots:l,bookings:m,availabilityConfigs:n,addAvailabilityConfig:o,removeAvailabilityConfig:p,generateSlotsFromConfig:q,cancelBooking:r,moveToPool:s,cancelDay:t,reallocateBooking:u,disableSlot:v,reactivateSlot:w,clearAllSlots:x}=(0,e.useApp)(),[y,z]=(0,c.useState)(j),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)("config"),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)("all"),[K,L]=(0,c.useState)(new Date),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(null),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)(""),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)(""),[Y,Z]=(0,c.useState)(""),[$,_]=(0,c.useState)(""),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)(""),[ae,af]=(0,c.useState)(!1),ag=(0,c.useMemo)(()=>{let a=K.getFullYear(),b=(0,f.getHolidaysForYear)(a),c={};return b.forEach(a=>{c[a.date]={name:a.name,type:a.type}}),c},[K]),[ah,ai]=(0,c.useState)(""),[aj,ak]=(0,c.useState)(""),[al,am]=(0,c.useState)("08:00"),[an,ao]=(0,c.useState)("17:00"),[ap,aq]=(0,c.useState)(30),[ar,as]=(0,c.useState)([1,2,3,4,5]),[at,au]=(0,c.useState)(!1),[av,aw]=(0,c.useState)("12:00"),[ax,ay]=(0,c.useState)(60),[az,aA]=(0,c.useState)([]),aB=a=>new Date(a+"T12:00:00").toLocaleDateString("pt-BR"),aC=async a=>{a.preventDefault(),af(!0);try{let a=await fetch("/api/bookings/internal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:Q,startTime:S,endTime:U,name:W,email:Y,phone:$,cpf:aa,description:ac})});if(a.ok)alert("Agendamento interno criado com sucesso!"),R(""),T(""),V(""),X(""),Z(""),_(""),ab(""),ad(""),window.location.reload();else{let b=await a.json();alert(`Erro: ${b.error}`)}}catch(a){console.error(a),alert("Erro ao criar agendamento")}finally{af(!1)}};return y?(0,b.jsxs)("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-4 sm:py-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4 sm:mb-8",children:[(0,b.jsx)("h1",{className:"text-xl sm:text-3xl font-bold text-gray-800",children:"Painel Administrativo"}),(0,b.jsx)("button",{onClick:()=>{z(!1),sessionStorage.removeItem("admin-auth"),B("")},className:"px-3 sm:px-4 py-2 text-sm sm:text-base text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Sair"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2 sm:gap-6 mb-4 sm:mb-8",children:[(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:gap-4 text-center sm:text-left",children:[(0,b.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-2 sm:mb-0",children:(0,b.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Total Slots"}),(0,b.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:l.length})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:gap-4 text-center sm:text-left",children:[(0,b.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-lg flex items-center justify-center mb-2 sm:mb-0",children:(0,b.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"DisponÃ­veis"}),(0,b.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:l.filter(a=>!a.isBooked&&!a.isDisabled).length})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:gap-4 text-center sm:text-left",children:[(0,b.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-2 sm:mb-0",children:(0,b.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Agendados"}),(0,b.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:m.length})]})]})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,b.jsx)("div",{className:"border-b border-gray-200 overflow-x-auto",children:(0,b.jsxs)("nav",{className:"flex min-w-max",children:[(0,b.jsx)("button",{onClick:()=>F("config"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"config"===E?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Configurar"}),(0,b.jsx)("button",{onClick:()=>F("calendar"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"calendar"===E?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Visualizar Agenda"}),(0,b.jsxs)("button",{onClick:()=>F("bookings"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"bookings"===E?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["Agendamentos (",m.length,")"]}),(0,b.jsx)("button",{onClick:()=>F("holidays"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"holidays"===E?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Feriados"}),(0,b.jsxs)("button",{onClick:()=>F("reallocation"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"reallocation"===E?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["RealocaÃ§Ã£o (",m.filter(a=>"pending_reallocation"===a.status).length,")"]}),(0,b.jsx)("button",{onClick:()=>F("internal"),className:`px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${"internal"===E?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Agendamento Interno"}),(0,b.jsxs)(d.default,{href:"/relatorio",className:"px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap text-gray-500 hover:text-gray-700 flex items-center gap-1.5",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"RelatÃ³rio DiÃ¡rio"]})]})}),(0,b.jsx)("div",{className:"p-3 sm:p-6",children:"config"===E?(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),!ah||!aj||0===ar.length)return void alert("Preencha todos os campos obrigatÃ³rios");let b={id:`config-${Date.now()}`,startDate:ah,endDate:aj,startTime:al,endTime:an,slotDuration:ap,daysOfWeek:ar,lunchBreakEnabled:at,lunchBreakStart:at?av:void 0,lunchBreakDuration:at?ax:void 0,vacationMonths:az.length>0?az:void 0};o(b),q(b),ai(""),ak(""),am("08:00"),ao("17:00"),aq(30),as([1,2,3,4,5]),au(!1),aw("12:00"),ay(60),aA([])},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),(0,b.jsx)("input",{type:"date",value:ah,onChange:a=>ai(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),(0,b.jsx)("input",{type:"date",value:aj,onChange:a=>ak(a.target.value),min:ah,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HorÃ¡rio Inicial"}),(0,b.jsx)("input",{type:"time",value:al,onChange:a=>am(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HorÃ¡rio Final"}),(0,b.jsx)("input",{type:"time",value:an,onChange:a=>ao(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DuraÃ§Ã£o do Slot (min)"}),(0,b.jsxs)("select",{value:ap,onChange:a=>aq(Number(a.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[(0,b.jsx)("option",{value:15,children:"15 minutos"}),(0,b.jsx)("option",{value:30,children:"30 minutos"}),(0,b.jsx)("option",{value:45,children:"45 minutos"}),(0,b.jsx)("option",{value:60,children:"1 hora"}),(0,b.jsx)("option",{value:90,children:"1h 30min"}),(0,b.jsx)("option",{value:120,children:"2 horas"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Dias da Semana"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:g.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.value,void as(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b].sort())},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${ar.includes(a.value)?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a.label},a.value))})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:at,onChange:a=>au(a.target.checked),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Incluir HorÃ¡rio de AlmoÃ§o"})]}),at&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"InÃ­cio do AlmoÃ§o"}),(0,b.jsx)("input",{type:"time",value:av,onChange:a=>aw(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DuraÃ§Ã£o do AlmoÃ§o"}),(0,b.jsxs)("select",{value:ax,onChange:a=>ay(Number(a.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none",children:[(0,b.jsx)("option",{value:30,children:"30 minutos"}),(0,b.jsx)("option",{value:45,children:"45 minutos"}),(0,b.jsx)("option",{value:60,children:"1 hora"}),(0,b.jsx)("option",{value:90,children:"1h 30min"}),(0,b.jsx)("option",{value:120,children:"2 horas"})]})]}),(0,b.jsx)("div",{className:"md:col-span-2",children:(0,b.jsxs)("p",{className:"text-xs text-orange-700",children:["Os slots que caÃ­rem dentro do horÃ¡rio de almoÃ§o (",av," - ",(()=>{let[a,b]=av.split(":").map(Number),c=60*a+b+ax,d=Math.floor(c/60);return`${String(d).padStart(2,"0")}:${String(c%60).padStart(2,"0")}`})(),") nÃ£o serÃ£o criados."]})})]})]}),(0,b.jsx)("div",{className:"border-t border-gray-200 pt-6",children:(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),"Meses de FÃ©rias (sem atendimento)"]})}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Selecione os meses em que nÃ£o haverÃ¡ atendimento. Nenhum slot serÃ¡ criado nesses meses."}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map((a,c)=>(0,b.jsx)("button",{type:"button",onClick:()=>{var a;return a=c+1,void aA(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a].sort((a,b)=>a-b))},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${az.includes(c+1)?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a.substring(0,3)},c))}),az.length>0&&(0,b.jsx)("div",{className:"mt-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:(0,b.jsxs)("p",{className:"text-xs text-purple-700",children:["ðŸ–ï¸ Meses de fÃ©rias selecionados: ",az.map(a=>i[a-1]).join(", ")]})})]})}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Criar Disponibilidade"}),(0,b.jsx)("button",{type:"button",onClick:()=>{confirm("Tem certeza que deseja limpar todos os slots e agendamentos?")&&x()},className:"px-6 py-3 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors font-medium",children:"Limpar Todos os Slots"})]})]}),n.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ConfiguraÃ§Ãµes Ativas"}),(0,b.jsx)("div",{className:"space-y-3",children:n.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium text-gray-800",children:[aB(a.startDate)," - ",aB(a.endDate)]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a.startTime," Ã s ",a.endTime," | ",a.slotDuration,"min por slot"]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.daysOfWeek.map(a=>g.find(b=>b.value===a)?.label).join(", ")}),a.lunchBreakEnabled&&a.lunchBreakStart&&a.lunchBreakDuration&&(0,b.jsxs)("p",{className:"text-sm text-orange-600",children:["ðŸ½ï¸ AlmoÃ§o: ",a.lunchBreakStart," (",a.lunchBreakDuration,"min)"]}),a.vacationMonths&&a.vacationMonths.length>0&&(0,b.jsxs)("p",{className:"text-sm text-purple-600",children:["ðŸ–ï¸ FÃ©rias: ",a.vacationMonths.map(a=>i[a-1]).join(", ")]})]}),(0,b.jsx)("button",{onClick:()=>p(a.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},a.id))})]})]}):"calendar"===E?(0,b.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-start sm:items-center gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,b.jsx)("span",{className:"text-xs sm:text-sm text-gray-600 block sm:inline mb-1 sm:mb-0 sm:mr-2",children:"Filtrar:"}),(0,b.jsxs)("div",{className:"flex rounded-lg overflow-hidden border border-gray-300",children:[(0,b.jsx)("button",{onClick:()=>J("all"),className:`flex-1 sm:flex-none px-2 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium transition-colors ${"all"===I?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Todos"}),(0,b.jsx)("button",{onClick:()=>J("booked"),className:`flex-1 sm:flex-none px-2 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium transition-colors border-l border-gray-300 ${"booked"===I?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Agendados"}),(0,b.jsx)("button",{onClick:()=>J("available"),className:`flex-1 sm:flex-none px-2 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium transition-colors border-l border-gray-300 ${"available"===I?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Livres"}),(0,b.jsx)("button",{onClick:()=>J("disabled"),className:`flex-1 sm:flex-none px-2 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium transition-colors border-l border-gray-300 ${"disabled"===I?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Off"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto sm:ml-auto justify-center",children:[(0,b.jsx)("button",{onClick:()=>L(new Date(K.getFullYear(),K.getMonth()-1,1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,b.jsxs)("span",{className:"text-sm sm:text-lg font-semibold text-gray-800 min-w-[130px] sm:min-w-[180px] text-center",children:[i[K.getMonth()]," ",K.getFullYear()]}),(0,b.jsx)("button",{onClick:()=>L(new Date(K.getFullYear(),K.getMonth()+1,1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1 mb-4",children:[h.map(a=>(0,b.jsx)("div",{className:"text-center text-xs sm:text-sm font-medium text-gray-500 py-1 sm:py-2",children:a},a)),(()=>{let a=K.getFullYear(),c=K.getMonth(),d=new Date(a,c,1).getDay(),e=new Date(a,c+1,0).getDate(),f=new Date().toISOString().split("T")[0],g=[];for(let a=0;a<d;a++)g.push((0,b.jsx)("div",{className:"h-8 sm:h-10"},`empty-${a}`));for(let d=1;d<=e;d++){let e=`${a}-${String(c+1).padStart(2,"0")}-${String(d).padStart(2,"0")}`,h=l.filter(a=>a.date===e),i=h.filter(a=>a.isBooked).length,j=h.length>0,k=G===e,m=e===f,n=ag[e],o=!!n,p=n?.name;g.push((0,b.jsxs)("button",{onClick:()=>H(k?null:e),title:o?`ðŸŽ‰ ${p}`:void 0,className:`h-8 sm:h-10 rounded-lg text-xs sm:text-sm font-medium transition-all relative ${k?"ring-2 ring-blue-500 ring-offset-1":""} ${o?"bg-purple-200 text-purple-800 hover:bg-purple-300 border border-purple-400":j?i>0?"bg-blue-100 text-blue-700 hover:bg-blue-200":"bg-green-100 text-green-700 hover:bg-green-200":"text-gray-400 hover:bg-gray-50"} ${m?"font-bold":""}`,children:[d,o&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 text-[10px]",children:"ðŸŽ‰"}),i>0&&!o&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-purple-600 text-white text-[10px] sm:text-xs rounded-full flex items-center justify-center",children:i})]},d))}return g})()]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-4 sm:pt-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:[(0,b.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:G?`Hor\xe1rios de ${aB(G)}`:"booked"===I?"Todos os Agendamentos":"available"===I?"HorÃ¡rios DisponÃ­veis":"disabled"===I?"HorÃ¡rios Desativados":"Todos os HorÃ¡rios"}),G&&(0,b.jsx)("button",{onClick:()=>{confirm(`ATEN\xc7\xc3O: Isso cancelar\xe1 TODOS os agendamentos do dia ${aB(G)} e enviar\xe1 emails de aviso para realoca\xe7\xe3o. Deseja continuar?`)&&t(G)},className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-xs sm:text-sm font-medium",children:"Cancelar Dia Inteiro"})]}),(()=>{let a=G?l.filter(a=>a.date===G):l;if("booked"===I?a=a.filter(a=>a.isBooked&&!a.isDisabled):"available"===I?a=a.filter(a=>!a.isBooked&&!a.isDisabled):"disabled"===I&&(a=a.filter(a=>a.isDisabled)),0===(a=[...a].sort((a,b)=>`${a.date}${a.startTime}`.localeCompare(`${b.date}${b.startTime}`))).length)return(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("p",{children:"Nenhum horÃ¡rio encontrado"})]});let c={};return a.forEach(a=>{c[a.date]||(c[a.date]=[]),c[a.date].push(a)}),(0,b.jsx)("div",{className:"space-y-4 sm:space-y-6",children:Object.entries(c).map(([a,c])=>(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 sm:p-4",children:[(0,b.jsxs)("h4",{className:"font-semibold text-gray-800 mb-2 sm:mb-3 flex flex-wrap items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("span",{className:"hidden sm:inline",children:new Date(a+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),(0,b.jsx)("span",{className:"sm:hidden",children:new Date(a+"T12:00:00").toLocaleDateString("pt-BR",{day:"numeric",month:"short"})}),(0,b.jsxs)("span",{className:"text-xs sm:text-sm font-normal text-gray-500",children:["(",c.filter(a=>a.isBooked).length," agendado",1!==c.filter(a=>a.isBooked).length?"s":"",")"]})]}),(0,b.jsx)("div",{className:"grid gap-2 sm:gap-3",children:c.map(a=>{let c=a.booking||m.find(b=>b.slotId===a.id);return(0,b.jsx)("div",{className:`p-2 sm:p-4 rounded-lg border-2 ${a.isDisabled?"bg-gray-100 border-gray-300 opacity-60":a.isBooked?"bg-white border-purple-200":"bg-white border-green-200"}`,children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-2 sm:gap-4",children:[(0,b.jsxs)("div",{className:`px-2 sm:px-3 py-1 sm:py-2 rounded-lg font-mono text-sm sm:text-base font-bold ${a.isDisabled?"bg-gray-200 text-gray-500 line-through":a.isBooked?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:[a.startTime,(0,b.jsx)("span",{className:"text-xs mx-0.5 sm:mx-1",children:"-"}),a.endTime]}),a.isDisabled?(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsx)("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-600 text-xs rounded-full",children:"Desativado"})}):a.isBooked&&c?(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1",children:[(0,b.jsx)("span",{className:"font-semibold text-gray-800",children:c.name}),(0,b.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:"Agendado"})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 space-y-0.5",children:[c.phone&&(0,b.jsxs)("p",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{children:"ðŸ“±"})," ",c.phone]}),c.email&&(0,b.jsxs)("p",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{children:"âœ‰ï¸"})," ",c.email]}),c.description&&(0,b.jsxs)("p",{className:"text-gray-500 italic mt-1",children:["â€œ",c.description,"â€"]})]})]}):(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsx)("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:"DisponÃ­vel"})})]}),(0,b.jsxs)("div",{className:"flex gap-1 sm:gap-2 self-end sm:self-auto",children:[a.isBooked&&c&&!a.isDisabled&&(0,b.jsxs)("button",{onClick:()=>r(c.id),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-xs sm:text-sm font-medium flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Desmarcar"})]}),a.isDisabled?(0,b.jsxs)("button",{onClick:()=>w(a.id),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors text-xs sm:text-sm font-medium flex items-center gap-1",title:"Reativar este horÃ¡rio",children:[(0,b.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Reativar"})]}):(0,b.jsxs)("button",{onClick:()=>v(a.id),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors text-xs sm:text-sm font-medium flex items-center gap-1",title:"Desativar este horÃ¡rio",children:[(0,b.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Desativar"})]})]})]})},a.id)})})]},a))})})()]})]}):"bookings"===E?(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",value:M,onChange:a=>N(a.target.value),placeholder:"Buscar por cÃ³digo (AG-0001), nome, telefone ou email...",className:"w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"}),(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),M&&(0,b.jsx)("button",{onClick:()=>N(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),0===m.length?(0,b.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,b.jsx)("svg",{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-3 sm:mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"Nenhum agendamento ainda"})]}):(0,b.jsx)("div",{className:"space-y-3 sm:space-y-4",children:(a=M.toLowerCase().trim(),0===(k=m.filter(b=>{if(!a)return!0;let c=l.find(a=>a.id===b.slotId);return b.id.toLowerCase().includes(a)||b.name.toLowerCase().includes(a)||b.phone&&b.phone.toLowerCase().includes(a)||b.email&&b.email.toLowerCase().includes(a)||c&&c.date.includes(a)}).sort((a,b)=>{let c=l.find(b=>b.id===a.slotId),d=l.find(a=>a.id===b.slotId);return c&&d?`${d.date}${d.startTime}`.localeCompare(`${c.date}${c.startTime}`):0})).length?(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsxs)("p",{className:"text-gray-500",children:['Nenhum agendamento encontrado para "',M,'"']})}):k.map(a=>{let c=l.find(b=>b.id===a.slotId);return(0,b.jsx)("div",{className:"p-3 sm:p-4 bg-gray-50 rounded-lg",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-2",children:[(0,b.jsx)("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-700 text-xs font-mono rounded",children:a.id}),(0,b.jsx)("span",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:a.name}),c&&(0,b.jsxs)("span",{className:"px-2 py-0.5 sm:py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:[aB(c.date)," Ã s ",c.startTime]})]}),a.phone&&(0,b.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:["ðŸ“± ",a.phone]}),a.email&&(0,b.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:["âœ‰ï¸ ",a.email]}),a.description&&(0,b.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 mt-2 italic",children:["â€œ",a.description,"â€"]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 self-end sm:self-start shrink-0",children:[(0,b.jsx)("button",{onClick:()=>{P(a),F("reallocation")},className:"px-3 py-1.5 sm:py-1 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-xs sm:text-sm",children:"Realocar"}),(0,b.jsx)("button",{onClick:()=>{confirm("Tem certeza que deseja mover este agendamento para o pool de realocaÃ§Ã£o?")&&s(a.id)},className:"px-3 py-1.5 sm:py-1 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors text-xs sm:text-sm",children:"Mover p/ Pool"}),(0,b.jsx)("button",{onClick:()=>{confirm("Tem certeza que deseja cancelar este agendamento?")&&r(a.id)},className:"px-3 py-1.5 sm:py-1 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-xs sm:text-sm",children:"Cancelar"})]})]})},a.id)}))})]}):"holidays"===E?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("svg",{className:"w-6 h-6 text-yellow-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-yellow-800",children:"Feriados AutomÃ¡ticos"}),(0,b.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"O sistema automaticamente nÃ£o cria slots nos dias de feriados nacionais, estaduais de Alagoas e municipais de MaceiÃ³. Feriados mÃ³veis como Carnaval, PÃ¡scoa e Corpus Christi sÃ£o calculados automaticamente para cada ano."})]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:"ðŸ“…"}),"Feriados Fixos"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:f.FIXED_HOLIDAYS.map((a,c)=>(0,b.jsxs)("div",{className:`p-3 rounded-lg border ${"nacional"===a.type?"bg-green-50 border-green-200":"estadual"===a.type?"bg-blue-50 border-blue-200":"bg-purple-50 border-purple-200"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-medium text-gray-800",children:a.name}),(0,b.jsx)("span",{className:`text-xs px-2 py-0.5 rounded-full ${"nacional"===a.type?"bg-green-200 text-green-800":"estadual"===a.type?"bg-blue-200 text-blue-800":"bg-purple-200 text-purple-800"}`,children:a.type})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[a.date.split("-")[1],"/",a.date.split("-")[0]]})]},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:"ðŸ—“ï¸"}),"Todos os Feriados de ",new Date().getFullYear()]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-100",children:[(0,b.jsx)("th",{className:"text-left p-3 rounded-tl-lg",children:"Data"}),(0,b.jsx)("th",{className:"text-left p-3",children:"Feriado"}),(0,b.jsx)("th",{className:"text-left p-3 rounded-tr-lg",children:"Tipo"})]})}),(0,b.jsx)("tbody",{children:(0,f.getHolidaysForYear)(new Date().getFullYear()).map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"p-3 font-mono text-gray-600",children:new Date(a.date+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"short",day:"2-digit",month:"2-digit"})}),(0,b.jsx)("td",{className:"p-3 font-medium text-gray-800",children:a.name}),(0,b.jsx)("td",{className:"p-3",children:(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${"nacional"===a.type?"bg-green-100 text-green-800":"estadual"===a.type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:a.type})})]},c))})]})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:"ðŸ“†"}),"Feriados MÃ³veis de ",new Date().getFullYear()+1]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:(0,f.getHolidaysForYear)(new Date().getFullYear()+1).filter(a=>["Carnaval","Sexta-feira Santa","PÃ¡scoa","Corpus Christi","Quarta-feira de Cinzas"].some(b=>a.name.includes(b)||a.name.includes("Carnaval"))).map((a,c)=>(0,b.jsxs)("div",{className:"p-3 bg-indigo-50 border border-indigo-200 rounded-lg",children:[(0,b.jsx)("span",{className:"font-medium text-gray-800",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-indigo-600 mt-1",children:new Date(a.date+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})})]},c))})]})]}):"reallocation"===E?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("svg",{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-blue-800",children:"Pool de RealocaÃ§Ã£o"}),(0,b.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Aqui estÃ£o listados os agendamentos que foram cancelados administrativamente (ex: cancelamento do dia) e precisam ser realocados. Ao realocar, o usuÃ¡rio receberÃ¡ um email com o novo horÃ¡rio."})]})]})}),O?(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-800",children:["Realocando: ",O.name]}),(0,b.jsx)("button",{onClick:()=>P(null),className:"text-gray-500 hover:text-gray-700",children:"Cancelar"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Selecione um novo horÃ¡rio disponÃ­vel:"}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 max-h-[400px] overflow-y-auto",children:l.filter(a=>!a.isBooked&&!a.isDisabled&&a.date>=new Date().toISOString().split("T")[0]).sort((a,b)=>`${a.date}${a.startTime}`.localeCompare(`${b.date}${b.startTime}`)).slice(0,50).map(a=>(0,b.jsxs)("button",{onClick:()=>{confirm(`Confirmar realoca\xe7\xe3o para ${aB(a.date)} \xe0s ${a.startTime}?`)&&u(O.id,a.id).then(a=>{a&&P(null)})},className:"p-3 border border-green-200 bg-green-50 hover:bg-green-100 rounded-lg text-left transition-colors",children:[(0,b.jsx)("p",{className:"font-medium text-green-800",children:aB(a.date)}),(0,b.jsxs)("p",{className:"text-sm text-green-700",children:[a.startTime," - ",a.endTime]})]},a.id))}),0===l.filter(a=>!a.isBooked&&!a.isDisabled&&a.date>=new Date().toISOString().split("T")[0]).length&&(0,b.jsx)("p",{className:"text-center text-gray-500 py-8",children:"NÃ£o hÃ¡ horÃ¡rios disponÃ­veis futuros."})]}):(0,b.jsx)("div",{className:"space-y-4",children:0===m.filter(a=>"pending_reallocation"===a.status).length?(0,b.jsx)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:(0,b.jsx)("p",{className:"text-gray-500",children:"Nenhum agendamento pendente de realocaÃ§Ã£o."})}):m.filter(a=>"pending_reallocation"===a.status).map(a=>(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 shadow-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs font-mono rounded",children:a.id}),(0,b.jsx)("h4",{className:"font-semibold text-gray-800",children:a.name})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 space-y-0.5",children:[a.phone&&(0,b.jsxs)("p",{children:["ðŸ“± ",a.phone]}),a.email&&(0,b.jsxs)("p",{children:["âœ‰ï¸ ",a.email]}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Originalmente agendado em: ",new Date(a.createdAt).toLocaleDateString("pt-BR")]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,b.jsx)("button",{onClick:()=>P(a),className:"flex-1 sm:flex-none px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Realocar"}),(0,b.jsx)("button",{onClick:()=>{confirm("Tem certeza que deseja cancelar definitivamente este agendamento?")&&r(a.id)},className:"flex-1 sm:flex-none px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:"Cancelar"})]})]},a.id))})]}):"internal"===E?(0,b.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Novo Agendamento Interno"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Use este formulÃ¡rio para criar agendamentos em qualquer data e horÃ¡rio, ignorando regras de disponibilidade pÃºblica. Estes agendamentos nÃ£o aparecerÃ£o como disponÃ­veis na agenda pÃºblica."}),(0,b.jsxs)("form",{onSubmit:aC,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),(0,b.jsx)("input",{type:"date",required:!0,value:Q,onChange:a=>R(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"InÃ­cio"}),(0,b.jsx)("input",{type:"time",required:!0,value:S,onChange:a=>T(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fim"}),(0,b.jsx)("input",{type:"time",required:!0,value:U,onChange:a=>V(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),(0,b.jsx)("input",{type:"text",required:!0,value:W,onChange:a=>X(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),(0,b.jsx)("input",{type:"text",value:aa,onChange:a=>ab(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,b.jsx)("input",{type:"email",value:Y,onChange:a=>Z(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),(0,b.jsx)("input",{type:"text",value:$,onChange:a=>_(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DescriÃ§Ã£o"}),(0,b.jsx)("textarea",{value:ac,onChange:a=>ad(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"DescriÃ§Ã£o do agendamento",rows:3})]}),(0,b.jsx)("div",{className:"flex gap-4",children:(0,b.jsx)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Criar Agendamento Interno"})})]})]})}):null})]})]}):(0,b.jsx)("div",{className:"min-h-[80vh] flex items-center justify-center",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Ãrea Administrativa"}),(0,b.jsx)("p",{className:"text-gray-500 mt-2",children:"Digite a senha para acessar"})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),"admin123"===A?(z(!0),sessionStorage.setItem("admin-auth","true"),D("")):D("Senha incorreta")},className:"space-y-4",children:[C&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:C}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),(0,b.jsx)("input",{type:"password",value:A,onChange:a=>B(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Digite a senha",autoFocus:!0})]}),(0,b.jsx)("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Entrar"})]})]})})}a.s(["default",()=>k])}];

//# sourceMappingURL=OneDrive_Desktop_Programming_agendamento-policial_app_admin_page_tsx_8bae2f5f._.js.map